{"version":3,"sources":["webpack:///./resources/js/components/inputs/UserAutocomplete.vue?200d","webpack:///resources/js/components/inputs/UserAutocomplete.vue","webpack:///./resources/js/components/inputs/UserAutocomplete.vue?9f60","webpack:///./resources/js/components/inputs/UserAutocomplete.vue","webpack:///./resources/js/components/tables/ElectrocutionObservationsTable.vue?ab32","webpack:///resources/js/components/tables/ElectrocutionObservationsTable.vue","webpack:///./resources/js/components/tables/ElectrocutionObservationsTable.vue?8d9a","webpack:///./resources/js/components/tables/ElectrocutionObservationsTable.vue","webpack:///./resources/js/components/ImageModal.vue?e923","webpack:///./resources/js/components/ImageModal.vue?a0e2","webpack:///resources/js/components/ImageModal.vue","webpack:///./resources/js/components/ImageModal.vue"],"names":["name","props","label","type","String","default","placeholder","user","Object","route","value","error","Boolean","message","except","autofocus","disabled","data","selected","this","loading","computed","icon","watch","methods","fetchData","params","forEach","onSelect","$emit","onInput","currentValue","focusOnInput","$el","querySelector","focus","getValue","option","component","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","scopedSlots","_u","key","fn","_v","_s","full_name","email","mixins","FilterableTableMixin","components","NzImageModal","NzTaxonAutocomplete","NzUserAutocomplete","NzPerPageSelect","NzSortableColumnHeader","NzExportModal","perPageOptions","Array","validator","listRoute","viewRoute","editRoute","deleteRoute","approveRoute","markAsUnidentifiableRoute","moveToPendingRoute","empty","approvable","markableAsUnidentifiable","movableToPending","showStatus","showActivityLog","exportUrl","exportColumns","total","sortField","sortOrder","page","perPage","isImageModalActive","modalImages","modalImageIndex","checkedRows","approving","markingAsUnidentifiable","movingToPending","activityLog","showExportModal","showObserver","months","dayjs","days","hasActions","actionRunning","checkedIds","map","exportable","length","sortBy","created","restoreState","loadAsyncData","$on","axios","get","withQuery","sort_by","per_page","getPersistantKeys","onPageChange","saveState","onSort","field","order","onPerPageChange","confirmRemove","$buefy","dialog","confirm","trans","confirmText","cancelText","onConfirm","remove","console","editLink","row","id","viewLink","observationHasPhotos","observation","photos","filter","openImageModal","open","onCarouselClose","modalImagesIndex","confirmApprove","approve","bind","post","field_observation_ids","successfullyApproved","toast","failedToApprove","duration","confirmMarkingAsUnidentifiable","inputAttrs","required","maxlength","markAsUnidentifiable","$nextTick","reason","successfullyMarkedAsUnidentifiable","failedToMarkAsUnidentifiable","determineStatusIcon","status","determineStatusClass","openActivityLogModal","activity","validateReason","$refs","input","addEventListener","e","target","setCustomValidity","validity","valid","validationMessage","confirmMoveToPending","moveToPending","successfullyMovedToPending","failedToMoveToPending","filterDefaults","taxon","taxonId","year","month","day","observer","includeChildTaxa","selectedTaxon","project","openExportModal","onExportDone","finishedExport","url","modal","parent","ExportDownloadModal","canCancel","hasModalCard","onTaxonSelect","newFilter","filters","truncate","$event","showFilter","class","filterIsActive","slot","_e","preventDefault","applyFilter","model","callback","$$v","$set","expression","domProps","_l","index","clearFilter","proxy","ref","photo","location","latitude","longitude","mgrs10k","replace","elevation","accuracy","column","taxon_suggestion","spid","observers","firstName","lastName","items","Number","newValue","active","openImage","handler","document","registerKeyListener","mounted","beforeDestroy","removeEventListener","next","prev","onClose"],"mappings":"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","file":"js/28.js?id=bc63b8b50c3ece5707f8","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-field',{staticClass:\"nz-user-autocomplete\",attrs:{\"label\":_vm.label,\"type\":_vm.error ? 'is-danger' : null,\"message\":_vm.message}},[_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-autocomplete',{attrs:{\"value\":_vm.value,\"data\":_vm.data,\"field\":\"full_name\",\"loading\":_vm.loading,\"icon\":_vm.icon,\"placeholder\":_vm.placeholder,\"expanded\":\"\",\"autofocus\":_vm.autofocus,\"disabled\":_vm.disabled},on:{\"input\":_vm.onInput,\"select\":_vm.onSelect},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"media-content\"},[_vm._v(\"\\n            \"+_vm._s(props.option.full_name)+\" \"),_c('small',[_vm._v(\"<\"+_vm._s(props.option.email)+\">\")])])])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-field :label=\"label\" class=\"nz-user-autocomplete\" :type=\"error ? 'is-danger' : null\" :message=\"message\">\r\n    <b-field grouped>\r\n      <b-autocomplete\r\n        :value=\"value\"\r\n        :data=\"data\"\r\n        field=\"full_name\"\r\n        :loading=\"loading\"\r\n        @input=\"onInput\"\r\n        @select=\"onSelect\"\r\n        :icon=\"icon\"\r\n        :placeholder=\"placeholder\"\r\n        expanded\r\n        :autofocus=\"autofocus\"\r\n        :disabled=\"disabled\"\r\n      >\r\n        <template slot-scope=\"props\">\r\n          <div class=\"media\">\r\n            <div class=\"media-content\">\r\n              {{ props.option.full_name }} <small>&lt;{{ props.option.email }}&gt;</small>\r\n            </div>\r\n          </div>\r\n        </template>\r\n\r\n      </b-autocomplete>\r\n    </b-field>\r\n  </b-field>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport _debounce from 'lodash/debounce'\r\nimport _get from 'lodash/get'\r\n\r\nexport default {\r\n  name: 'nzUserAutocomplete',\r\n\r\n  props: {\r\n    label: {\r\n      type: String,\r\n      default: 'User'\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: 'Search for user...'\r\n    },\r\n    user: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n    route: {\r\n      type: String,\r\n      default: 'api.autocomplete.users.index'\r\n    },\r\n    value: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    error: Boolean,\r\n    message: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    except: {},\r\n    autofocus: Boolean,\r\n    disabled: Boolean\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      data: [],\r\n      selected: this.user || null,\r\n      loading: false\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    icon() {\r\n      return this.selected ? 'check' : null\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    user(value) {\r\n      this.selected = value\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    fetchData: _debounce(function() {\r\n      if (!this.value) return\r\n\r\n      this.data = []\r\n      this.loading = true\r\n\r\n      let params = {\r\n        name: this.value,\r\n      }\r\n\r\n      if (this.except) {\r\n        params.except = this.except\r\n      }\r\n\r\n      axios.get(route(this.route), { params }).then(({ data }) => {\r\n        data.data.forEach((item) => this.data.push(item))\r\n        this.loading = false\r\n      }, response => {\r\n        this.loading = false\r\n      })\r\n    }, 500),\r\n\r\n    onSelect(user) {\r\n      this.selected = user\r\n\r\n      this.$emit('select', user)\r\n    },\r\n\r\n    onInput(value) {\r\n      const currentValue = this.getValue(this.selected)\r\n      if (currentValue && currentValue !== value) {\r\n        this.onSelect(null)\r\n      }\r\n\r\n      this.$emit('input', value)\r\n\r\n      this.fetchData()\r\n    },\r\n\r\n    focusOnInput() {\r\n      this.$el.querySelector('input').focus()\r\n    },\r\n\r\n    /**\r\n     * Return display text for the input.\r\n     * If object, get value from path, or else just the value.\r\n     */\r\n    getValue(option) {\r\n      if (!option) return\r\n\r\n      return typeof option === 'object'\r\n        ? _get(option, 'full_name')\r\n        : option\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAutocomplete.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAutocomplete.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserAutocomplete.vue?vue&type=template&id=5566d9c1&\"\nimport script from \"./UserAutocomplete.vue?vue&type=script&lang=js&\"\nexport * from \"./UserAutocomplete.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"electrocution-observations-table\"},[_c('div',{staticClass:\"level\"},[_c('div',{staticClass:\"level-left\"},[_c('div',{staticClass:\"level-item\"},[_c('button',{staticClass:\"button is-touch-full\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showFilter = !_vm.showFilter}}},[_c('b-icon',{class:[_vm.filterIsActive ? 'has-text-primary' : 'has-text-grey'],attrs:{\"icon\":\"filter\",\"size\":_vm.filterIsActive ? null : 'is-small'}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.trans('buttons.filters')))])],1)])]),_vm._v(\" \"),(_vm.hasActions)?_c('div',{staticClass:\"level-right\"},[_c('div',{staticClass:\"level-item\"},[_c('b-dropdown',{attrs:{\"position\":\"is-bottom-left\"}},[_c('button',{staticClass:\"button is-touch-full\",class:{'is-loading': _vm.actionRunning},attrs:{\"slot\":\"trigger\"},slot:\"trigger\"},[_c('span',[_vm._v(_vm._s(_vm.trans('labels.actions')))]),_vm._v(\" \"),_c('span',{staticClass:\"icon has-text-grey\"},[_c('i',{staticClass:\"fa fa-angle-down\"})])]),_vm._v(\" \"),(_vm.approvable)?_c('b-dropdown-item',{attrs:{\"disabled\":!_vm.checkedRows.length},on:{\"click\":_vm.confirmApprove}},[_c('b-icon',{staticClass:\"has-text-success\",attrs:{\"icon\":\"check\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.trans('buttons.approve')))])],1):_vm._e(),_vm._v(\" \"),(_vm.markableAsUnidentifiable)?_c('b-dropdown-item',{attrs:{\"disabled\":!_vm.checkedRows.length},on:{\"click\":_vm.confirmMarkingAsUnidentifiable}},[_c('b-icon',{staticClass:\"has-text-danger\",attrs:{\"icon\":\"times\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.trans('buttons.unidentifiable')))])],1):_vm._e(),_vm._v(\" \"),(_vm.movableToPending)?_c('b-dropdown-item',{attrs:{\"disabled\":!_vm.checkedRows.length},on:{\"click\":_vm.confirmMoveToPending}},[_c('b-icon',{staticClass:\"has-text-warning\",attrs:{\"icon\":\"question\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.trans('buttons.move_to_pending')))])],1):_vm._e(),_vm._v(\" \"),(_vm.exportable)?_c('b-dropdown-item',{on:{\"click\":_vm.openExportModal}},[_c('b-icon',{staticClass:\"has-text-grey\",attrs:{\"icon\":\"download\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.trans('buttons.export')))])],1):_vm._e()],1)],1)]):_vm._e()]),_vm._v(\" \"),_c('b-collapse',{staticClass:\"mt-4\",attrs:{\"open\":_vm.showFilter}},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.applyFilter($event)}}},[_c('div',{staticClass:\"columns is-multiline\"},[_c('div',{staticClass:\"column is half\"},[_c('nz-taxon-autocomplete',{attrs:{\"taxon\":_vm.newFilter.selectedTaxon,\"label\":_vm.trans('labels.field_observations.taxon'),\"placeholder\":_vm.trans('labels.field_observations.search_for_taxon')},on:{\"select\":_vm.onTaxonSelect},model:{value:(_vm.newFilter.taxon),callback:function ($$v) {_vm.$set(_vm.newFilter, \"taxon\", $$v)},expression:\"newFilter.taxon\"}})],1),_vm._v(\" \"),_c('b-field',{staticClass:\"column is-half\",attrs:{\"label\":_vm.trans('labels.field_observations.date')}},[_c('b-field',{attrs:{\"expanded\":\"\",\"grouped\":\"\"}},[_c('b-field',{attrs:{\"expanded\":\"\"}},[_c('b-input',{attrs:{\"placeholder\":_vm.trans('labels.field_observations.year')},model:{value:(_vm.newFilter.year),callback:function ($$v) {_vm.$set(_vm.newFilter, \"year\", $$v)},expression:\"newFilter.year\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"expanded\":\"\"}},[_c('b-select',{attrs:{\"placeholder\":_vm.trans('labels.field_observations.month'),\"expanded\":\"\"},model:{value:(_vm.newFilter.month),callback:function ($$v) {_vm.$set(_vm.newFilter, \"month\", $$v)},expression:\"newFilter.month\"}},[_c('option',{domProps:{\"value\":null}}),_vm._v(\" \"),_vm._l((_vm.months),function(month,index){return _c('option',{key:index,domProps:{\"value\":(index + 1),\"textContent\":_vm._s(month)}})})],2)],1),_vm._v(\" \"),_c('b-field',{attrs:{\"expanded\":\"\"}},[_c('b-select',{attrs:{\"placeholder\":_vm.trans('labels.field_observations.day'),\"expanded\":\"\"},model:{value:(_vm.newFilter.day),callback:function ($$v) {_vm.$set(_vm.newFilter, \"day\", $$v)},expression:\"newFilter.day\"}},[_c('option',{domProps:{\"value\":null}}),_vm._v(\" \"),_vm._l((_vm.days),function(day){return _c('option',{key:day,domProps:{\"value\":day,\"textContent\":_vm._s(day)}})})],2)],1)],1)],1),_vm._v(\" \"),(_vm.showObserver)?_c('nz-user-autocomplete',{staticClass:\"column is-half\",attrs:{\"label\":_vm.trans('labels.field_observations.observer'),\"placeholder\":\"\"},model:{value:(_vm.newFilter.observer),callback:function ($$v) {_vm.$set(_vm.newFilter, \"observer\", $$v)},expression:\"newFilter.observer\"}}):_vm._e()],1),_vm._v(\" \"),_c('button',{staticClass:\"button is-primary is-outlined\",attrs:{\"type\":\"submit\"}},[_vm._v(_vm._s(_vm.trans('buttons.apply')))]),_vm._v(\" \"),_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.clearFilter}},[_vm._v(_vm._s(_vm.trans('buttons.clear')))])])]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('b-table',{attrs:{\"data\":_vm.data,\"loading\":_vm.loading,\"paginated\":\"\",\"backend-pagination\":\"\",\"total\":_vm.total,\"per-page\":_vm.perPage,\"current-page\":_vm.page,\"pagination-position\":\"both\",\"backend-sorting\":\"\",\"default-sort-direction\":\"asc\",\"default-sort\":[_vm.sortField, _vm.sortOrder],\"detailed\":\"\",\"mobile-cards\":\"\",\"checkable\":_vm.hasActions,\"checked-rows\":_vm.checkedRows},on:{\"page-change\":_vm.onPageChange,\"sort\":_vm.onSort,\"update:checkedRows\":function($event){_vm.checkedRows=$event},\"update:checked-rows\":function($event){_vm.checkedRows=$event}},scopedSlots:_vm._u([{key:\"top-left\",fn:function(){return [_c('nz-per-page-select',{attrs:{\"value\":_vm.perPage,\"options\":_vm.perPageOptions},on:{\"input\":_vm.onPerPageChange}})]},proxy:true},{key:\"bottom-left\",fn:function(){return [_c('nz-per-page-select',{attrs:{\"value\":_vm.perPage,\"options\":_vm.perPageOptions},on:{\"input\":_vm.onPerPageChange}})]},proxy:true},{key:\"empty\",fn:function(){return [_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_vm._v(_vm._s(_vm.empty))])])])]},proxy:true},{key:\"detail\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('article',{staticClass:\"media\"},[_c('figure',{staticClass:\"media-left\"},_vm._l((row.photos),function(photo,index){return _c('p',{key:photo.id,staticClass:\"image is-64x64\"},[_c('img',{staticClass:\"is-clickable\",attrs:{\"src\":photo.url},on:{\"click\":function($event){return _vm.openImageModal(row.photos, index)}}})])}),0),_vm._v(\" \"),_c('div',{staticClass:\"media-content\"},[_c('div',{staticClass:\"content\"},[(row.location)?[_c('strong',[_vm._v(_vm._s(row.location))]),_c('br')]:_vm._e(),_vm._v(\" \"),(row.latitude && row.longitude)?[_c('small',[_vm._v(_vm._s(row.latitude)+\", \"+_vm._s(row.longitude))]),_c('br')]:_vm._e(),_vm._v(\" \"),_c('small',[_vm._v(_vm._s(row.mgrs10k.replace(/^[0-9]+[a-zA-Z]/, '$& ')))]),_c('br'),_vm._v(\" \"),_c('small',[_vm._v(_vm._s(_vm.trans('labels.field_observations.elevation'))+\": \"+_vm._s(row.elevation)+\"m\")]),_c('br'),_vm._v(\" \"),(row.accuracy)?_c('small',[_vm._v(_vm._s(_vm.trans('labels.field_observations.accuracy'))+\": \"+_vm._s(row.accuracy)+\"m\")]):_vm._e()],2)])])]}}])},[_vm._v(\" \"),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"id\",\"label\":_vm.trans('labels.id'),\"width\":\"40\",\"numeric\":\"\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n        \"+_vm._s(row.id)+\"\\n      \")]}},{key:\"header\",fn:function(ref){\nvar column = ref.column;\nreturn [_c('nz-sortable-column-header',{attrs:{\"column\":column,\"sort\":{ field: _vm.sortField, order: _vm.sortOrder }}})]}}])}),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"taxon_name\",\"label\":_vm.trans('labels.field_observations.taxon'),\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{class:{'has-text-grey': !row.taxon}},[_c('span',[_vm._v(_vm._s(row.taxon ? row.taxon.name : row.taxon_suggestion))]),_vm._v(\" \"),(!row.taxon)?_c('b-icon',{attrs:{\"icon\":\"question\",\"size\":\"is-small\"}}):_vm._e()],1)]}},{key:\"header\",fn:function(ref){\nvar column = ref.column;\nreturn [_c('nz-sortable-column-header',{attrs:{\"column\":column,\"sort\":{ field: _vm.sortField, order: _vm.sortOrder }}})]}}])}),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"taxon_spid\",\"label\":_vm.trans('labels.taxa.spid'),\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{class:{'has-text-grey': !row.taxon}},[_c('span',[_vm._v(_vm._s(row.taxon ? row.taxon.spid : null))]),_vm._v(\" \"),(!row.taxon)?_c('b-icon',{attrs:{\"icon\":\"question\",\"size\":\"is-small\"}}):_vm._e()],1)]}},{key:\"header\",fn:function(ref){\nvar column = ref.column;\nreturn [_c('nz-sortable-column-header',{attrs:{\"column\":column,\"sort\":{ field: _vm.sortField, order: _vm.sortOrder }}})]}}])}),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"year\",\"label\":_vm.trans('labels.field_observations.year'),\"numeric\":\"\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n        \"+_vm._s(row.year)+\"\\n      \")]}},{key:\"header\",fn:function(ref){\nvar column = ref.column;\nreturn [_c('nz-sortable-column-header',{attrs:{\"column\":column,\"sort\":{ field: _vm.sortField, order: _vm.sortOrder }}})]}}])}),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"month\",\"label\":_vm.trans('labels.field_observations.month'),\"numeric\":\"\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n        \"+_vm._s(row.month)+\"\\n      \")]}},{key:\"header\",fn:function(ref){\nvar column = ref.column;\nreturn [_c('nz-sortable-column-header',{attrs:{\"column\":column,\"sort\":{ field: _vm.sortField, order: _vm.sortOrder }}})]}}])}),_vm._v(\" \"),_c('b-table-column',{attrs:{\"field\":\"day\",\"label\":_vm.trans('labels.field_observations.day'),\"numeric\":\"\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n        \"+_vm._s(row.day)+\"\\n      \")]}},{key:\"header\",fn:function(ref){\nvar column = ref.column;\nreturn [_c('nz-sortable-column-header',{attrs:{\"column\":column,\"sort\":{ field: _vm.sortField, order: _vm.sortOrder }}})]}}])}),_vm._v(\" \"),(_vm.showObserver)?_c('b-table-column',{attrs:{\"field\":\"observer\",\"label\":_vm.trans('labels.observations.first_observer'),\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n        \"+_vm._s(row.observers[0].firstName)+\" \"+_vm._s(row.observers[0].lastName)+\"\\n      \")]}},{key:\"header\",fn:function(ref){\nvar column = ref.column;\nreturn [_c('nz-sortable-column-header',{attrs:{\"column\":column,\"sort\":{ field: _vm.sortField, order: _vm.sortOrder }}})]}}],null,false,2249077902)}):_vm._e(),_vm._v(\" \"),(_vm.showStatus)?_c('b-table-column',{attrs:{\"field\":\"status\",\"label\":_vm.trans('labels.field_observations.status')},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',{class:_vm.determineStatusClass(row.status),attrs:{\"title\":_vm.trans((\"labels.field_observations.statuses.\" + (row.status)))}},[_c('b-icon',{attrs:{\"icon\":_vm.determineStatusIcon(row.status)}})],1)]}},{key:\"header\",fn:function(ref){\nvar column = ref.column;\nreturn [_c('nz-sortable-column-header',{attrs:{\"column\":column,\"sort\":{ field: _vm.sortField, order: _vm.sortOrder }}})]}}],null,false,4159528643)}):_vm._e(),_vm._v(\" \"),_c('b-table-column',{attrs:{\"width\":\"150\",\"numeric\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [(_vm.observationHasPhotos(row))?_c('a',{on:{\"click\":function($event){return _vm.openImageModal(row.photos)}}},[_c('b-icon',{attrs:{\"icon\":\"photo\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.showActivityLog)?_c('a',{attrs:{\"title\":_vm.trans('Activity Log')},on:{\"click\":function($event){return _vm.openActivityLogModal(row)}}},[_c('b-icon',{attrs:{\"icon\":\"history\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.viewRoute)?_c('a',{attrs:{\"href\":_vm.viewLink(row),\"title\":_vm.trans('buttons.view')}},[_c('b-icon',{attrs:{\"icon\":\"eye\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.editRoute)?_c('a',{attrs:{\"href\":_vm.editLink(row),\"title\":_vm.trans('buttons.edit')}},[_c('b-icon',{attrs:{\"icon\":\"edit\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.deleteRoute)?_c('a',{attrs:{\"title\":_vm.trans('buttons.delete')},on:{\"click\":function($event){return _vm.confirmRemove(row)}}},[_c('b-icon',{attrs:{\"icon\":\"trash\"}})],1):_vm._e()]}}])})],1),_vm._v(\" \"),_c('nz-image-modal',{attrs:{\"items\":_vm.modalImages},on:{\"close\":_vm.onCarouselClose},model:{value:(_vm.modalImageIndex),callback:function ($$v) {_vm.modalImageIndex=$$v},expression:\"modalImageIndex\"}}),_vm._v(\" \"),_c('b-modal',{attrs:{\"active\":_vm.activityLog.length > 0,\"has-modal-card\":\"\"},on:{\"close\":function($event){_vm.activityLog = []}}},[_c('div',{staticClass:\"modal-card\"},[_c('div',{staticClass:\"modal-card-head\"},[_c('b-icon',{attrs:{\"icon\":\"history\"}}),_vm._v(\" \"),_c('p',{staticClass:\"modal-card-title\"},[_vm._v(_vm._s(_vm.trans('Activity Log')))])],1),_vm._v(\" \"),_c('div',{staticClass:\"modal-card-body\"},[_c('nz-field-observation-activity-log',{attrs:{\"activities\":_vm.activityLog}})],1)])]),_vm._v(\" \"),_c('b-modal',{attrs:{\"active\":_vm.showExportModal,\"has-modal-card\":\"\",\"can-cancel\":[]},on:{\"close\":function($event){_vm.showExportModal = false}}},[_c('nz-export-modal',{attrs:{\"checked\":_vm.checkedIds,\"filter\":_vm.filter,\"columns\":_vm.exportColumns,\"url\":_vm.exportUrl,\"sort\":_vm.sortBy},on:{\"cancel\":function($event){_vm.showExportModal = false},\"done\":_vm.onExportDone}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"electrocution-observations-table\">\r\n    <div class=\"level\">\r\n      <div class=\"level-left\">\r\n        <div class=\"level-item\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"button is-touch-full\"\r\n            @click=\"showFilter = !showFilter\"\r\n          >\r\n            <b-icon\r\n              icon=\"filter\"\r\n              :size=\"filterIsActive ? null : 'is-small'\"\r\n              :class=\"[filterIsActive ? 'has-text-primary' : 'has-text-grey']\"\r\n            />\r\n\r\n            <span>{{ trans('buttons.filters') }}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"level-right\" v-if=\"hasActions\">\r\n        <div class=\"level-item\">\r\n          <b-dropdown position=\"is-bottom-left\">\r\n            <button\r\n              class=\"button is-touch-full\"\r\n              slot=\"trigger\"\r\n              :class=\"{'is-loading': actionRunning}\"\r\n            >\r\n              <span>{{ trans('labels.actions') }}</span>\r\n\r\n              <span class=\"icon has-text-grey\">\r\n                <i class=\"fa fa-angle-down\"></i>\r\n              </span>\r\n            </button>\r\n\r\n            <b-dropdown-item\r\n              :disabled=\"!checkedRows.length\"\r\n              @click=\"confirmApprove\"\r\n              v-if=\"approvable\"\r\n            >\r\n              <b-icon icon=\"check\" class=\"has-text-success\"/>\r\n\r\n              <span>{{ trans('buttons.approve') }}</span>\r\n            </b-dropdown-item>\r\n\r\n            <b-dropdown-item\r\n              :disabled=\"!checkedRows.length\"\r\n              @click=\"confirmMarkingAsUnidentifiable\"\r\n              v-if=\"markableAsUnidentifiable\"\r\n            >\r\n              <b-icon icon=\"times\" class=\"has-text-danger\"/>\r\n\r\n              <span>{{ trans('buttons.unidentifiable') }}</span>\r\n            </b-dropdown-item>\r\n\r\n            <b-dropdown-item\r\n              :disabled=\"!checkedRows.length\"\r\n              @click=\"confirmMoveToPending\"\r\n              v-if=\"movableToPending\"\r\n            >\r\n              <b-icon icon=\"question\" class=\"has-text-warning\"/>\r\n\r\n              <span>{{ trans('buttons.move_to_pending') }}</span>\r\n            </b-dropdown-item>\r\n\r\n            <b-dropdown-item\r\n              @click=\"openExportModal\"\r\n              v-if=\"exportable\"\r\n            >\r\n              <b-icon icon=\"download\" class=\"has-text-grey\"/>\r\n\r\n              <span>{{ trans('buttons.export') }}</span>\r\n            </b-dropdown-item>\r\n          </b-dropdown>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <b-collapse :open=\"showFilter\" class=\"mt-4\">\r\n      <form @submit.prevent=\"applyFilter\">\r\n        <div class=\"columns is-multiline\">\r\n          <div class=\"column is half\">\r\n            <nz-taxon-autocomplete\r\n              @select=\"onTaxonSelect\"\r\n              v-model=\"newFilter.taxon\"\r\n              :taxon=\"newFilter.selectedTaxon\"\r\n              :label=\"trans('labels.field_observations.taxon')\"\r\n              :placeholder=\"trans('labels.field_observations.search_for_taxon')\"\r\n            />\r\n          </div>\r\n\r\n          <b-field :label=\"trans('labels.field_observations.date')\" class=\"column is-half\">\r\n            <b-field expanded grouped>\r\n              <b-field expanded>\r\n                <b-input\r\n                  :placeholder=\"trans('labels.field_observations.year')\"\r\n                  v-model=\"newFilter.year\"\r\n                />\r\n              </b-field>\r\n\r\n              <b-field expanded>\r\n                <b-select\r\n                  :placeholder=\"trans('labels.field_observations.month')\"\r\n                  v-model=\"newFilter.month\"\r\n                  expanded\r\n                >\r\n                  <option :value=\"null\"></option>\r\n\r\n                  <option v-for=\"(month, index) in months\" :key=\"index\" :value=\"(index + 1)\" v-text=\"month\"></option>\r\n                </b-select>\r\n              </b-field>\r\n\r\n              <b-field expanded>\r\n                <b-select\r\n                  :placeholder=\"trans('labels.field_observations.day')\"\r\n                  v-model=\"newFilter.day\"\r\n                  expanded\r\n                >\r\n                  <option :value=\"null\"></option>\r\n\r\n                  <option v-for=\"day in days\" :value=\"day\" :key=\"day\" v-text=\"day\"></option>\r\n                </b-select>\r\n              </b-field>\r\n            </b-field>\r\n          </b-field>\r\n\r\n          <nz-user-autocomplete\r\n            v-if=\"showObserver\"\r\n            class=\"column is-half\"\r\n            v-model=\"newFilter.observer\"\r\n            :label=\"trans('labels.field_observations.observer')\"\r\n            placeholder=\"\"\r\n          />\r\n        </div>\r\n\r\n        <button type=\"submit\" class=\"button is-primary is-outlined\">{{ trans('buttons.apply') }}</button>\r\n        <button type=\"button\" class=\"button\" @click=\"clearFilter\">{{ trans('buttons.clear') }}</button>\r\n      </form>\r\n    </b-collapse>\r\n\r\n    <hr>\r\n\r\n    <b-table\r\n      :data=\"data\"\r\n      :loading=\"loading\"\r\n\r\n      paginated\r\n      backend-pagination\r\n      :total=\"total\"\r\n      :per-page=\"perPage\"\r\n      :current-page=\"page\"\r\n      @page-change=\"onPageChange\"\r\n      pagination-position=\"both\"\r\n\r\n      backend-sorting\r\n      default-sort-direction=\"asc\"\r\n      :default-sort=\"[sortField, sortOrder]\"\r\n      @sort=\"onSort\"\r\n\r\n      detailed\r\n      mobile-cards\r\n\r\n      :checkable=\"hasActions\"\r\n      :checked-rows.sync=\"checkedRows\"\r\n    >\r\n      <template #top-left>\r\n        <nz-per-page-select :value=\"perPage\" @input=\"onPerPageChange\" :options=\"perPageOptions\"/>\r\n      </template>\r\n      <template #bottom-left>\r\n        <nz-per-page-select :value=\"perPage\" @input=\"onPerPageChange\" :options=\"perPageOptions\"/>\r\n      </template>\r\n\r\n      <b-table-column field=\"id\" :label=\"trans('labels.id')\" width=\"40\" numeric sortable>\r\n        <template #default=\"{ row }\">\r\n          {{ row.id }}\r\n        </template>\r\n        <template #header=\"{ column }\">\r\n          <nz-sortable-column-header :column=\"column\" :sort=\"{ field: sortField, order: sortOrder }\"/>\r\n        </template>\r\n      </b-table-column>\r\n\r\n      <b-table-column field=\"taxon_name\" :label=\"trans('labels.field_observations.taxon')\" sortable>\r\n        <template #default=\"{ row }\">\r\n          <div :class=\"{'has-text-grey': !row.taxon}\">\r\n            <span>{{ row.taxon ? row.taxon.name : row.taxon_suggestion }}</span>\r\n            <b-icon v-if=\"!row.taxon\" icon=\"question\" size=\"is-small\"></b-icon>\r\n          </div>\r\n        </template>\r\n        <template #header=\"{ column }\">\r\n          <nz-sortable-column-header :column=\"column\" :sort=\"{ field: sortField, order: sortOrder }\"/>\r\n        </template>\r\n      </b-table-column>\r\n\r\n      <b-table-column field=\"taxon_spid\" :label=\"trans('labels.taxa.spid')\" sortable>\r\n        <template #default=\"{ row }\">\r\n          <div :class=\"{'has-text-grey': !row.taxon}\">\r\n            <span>{{ row.taxon ? row.taxon.spid : null }}</span>\r\n            <b-icon v-if=\"!row.taxon\" icon=\"question\" size=\"is-small\"></b-icon>\r\n          </div>\r\n        </template>\r\n        <template #header=\"{ column }\">\r\n          <nz-sortable-column-header :column=\"column\" :sort=\"{ field: sortField, order: sortOrder }\"/>\r\n        </template>\r\n      </b-table-column>\r\n\r\n      <b-table-column field=\"year\" :label=\"trans('labels.field_observations.year')\" numeric sortable>\r\n        <template #default=\"{ row }\">\r\n          {{ row.year }}\r\n        </template>\r\n        <template #header=\"{ column }\">\r\n          <nz-sortable-column-header :column=\"column\" :sort=\"{ field: sortField, order: sortOrder }\"/>\r\n        </template>\r\n      </b-table-column>\r\n\r\n      <b-table-column field=\"month\" :label=\"trans('labels.field_observations.month')\" numeric sortable>\r\n        <template #default=\"{ row }\">\r\n          {{ row.month }}\r\n        </template>\r\n        <template #header=\"{ column }\">\r\n          <nz-sortable-column-header :column=\"column\" :sort=\"{ field: sortField, order: sortOrder }\"/>\r\n        </template>\r\n      </b-table-column>\r\n\r\n      <b-table-column field=\"day\" :label=\"trans('labels.field_observations.day')\" numeric sortable>\r\n        <template #default=\"{ row }\">\r\n          {{ row.day }}\r\n        </template>\r\n        <template #header=\"{ column }\">\r\n          <nz-sortable-column-header :column=\"column\" :sort=\"{ field: sortField, order: sortOrder }\"/>\r\n        </template>\r\n      </b-table-column>\r\n\r\n      <b-table-column field=\"observer\" :label=\"trans('labels.observations.first_observer')\" sortable\r\n                      v-if=\"showObserver\">\r\n        <template #default=\"{ row }\">\r\n          {{ row.observers[0].firstName }} {{ row.observers[0].lastName }}\r\n        </template>\r\n        <template #header=\"{ column }\">\r\n          <nz-sortable-column-header :column=\"column\" :sort=\"{ field: sortField, order: sortOrder }\"/>\r\n        </template>\r\n      </b-table-column>\r\n\r\n      <b-table-column field=\"status\" :label=\"trans('labels.field_observations.status')\" v-if=\"showStatus\">\r\n        <template #default=\"{ row }\">\r\n          <span :class=\"determineStatusClass(row.status)\"\r\n                :title=\"trans(`labels.field_observations.statuses.${row.status}`)\">\r\n            <b-icon :icon=\"determineStatusIcon(row.status)\"/>\r\n          </span>\r\n        </template>\r\n        <template #header=\"{ column }\">\r\n          <nz-sortable-column-header :column=\"column\" :sort=\"{ field: sortField, order: sortOrder }\"/>\r\n        </template>\r\n      </b-table-column>\r\n\r\n      <b-table-column width=\"150\" numeric v-slot=\"{ row }\">\r\n        <a @click=\"openImageModal(row.photos)\" v-if=\"observationHasPhotos(row)\">\r\n          <b-icon icon=\"photo\"/>\r\n        </a>\r\n\r\n        <a @click=\"openActivityLogModal(row)\" v-if=\"showActivityLog\" :title=\"trans('Activity Log')\">\r\n          <b-icon icon=\"history\"/>\r\n        </a>\r\n\r\n        <a :href=\"viewLink(row)\" v-if=\"viewRoute\" :title=\"trans('buttons.view')\">\r\n          <b-icon icon=\"eye\"/>\r\n        </a>\r\n\r\n        <a :href=\"editLink(row)\" v-if=\"editRoute\" :title=\"trans('buttons.edit')\">\r\n          <b-icon icon=\"edit\"/>\r\n        </a>\r\n\r\n        <a @click=\"confirmRemove(row)\" v-if=\"deleteRoute\" :title=\"trans('buttons.delete')\">\r\n          <b-icon icon=\"trash\"/>\r\n        </a>\r\n      </b-table-column>\r\n\r\n      <template #empty>\r\n        <section class=\"section\">\r\n          <div class=\"content has-text-grey has-text-centered\">\r\n            <p>{{ empty }}</p>\r\n          </div>\r\n        </section>\r\n      </template>\r\n\r\n      <template #detail=\"{ row }\">\r\n        <article class=\"media\">\r\n          <figure class=\"media-left\">\r\n            <p class=\"image is-64x64\" v-for=\"(photo, index) in row.photos\" :key=\"photo.id\">\r\n              <img class=\"is-clickable\" :src=\"photo.url\" @click=\"openImageModal(row.photos, index)\">\r\n            </p>\r\n          </figure>\r\n\r\n          <div class=\"media-content\">\r\n            <div class=\"content\">\r\n              <template v-if=\"row.location\">\r\n                <strong>{{ row.location }}</strong><br>\r\n              </template>\r\n\r\n              <template v-if=\"row.latitude && row.longitude\">\r\n                <small>{{ row.latitude }}, {{ row.longitude }}</small><br>\r\n              </template>\r\n\r\n              <small>{{ row.mgrs10k.replace(/^[0-9]+[a-zA-Z]/, '$& ') }}</small><br>\r\n\r\n              <small>{{ trans('labels.field_observations.elevation') }}: {{ row.elevation }}m</small><br>\r\n\r\n              <small v-if=\"row.accuracy\">{{ trans('labels.field_observations.accuracy') }}: {{ row.accuracy }}m</small>\r\n            </div>\r\n          </div>\r\n        </article>\r\n      </template>\r\n    </b-table>\r\n\r\n    <nz-image-modal :items=\"modalImages\" v-model=\"modalImageIndex\" @close=\"onCarouselClose\"/>\r\n\r\n    <b-modal :active=\"activityLog.length > 0\" @close=\"activityLog = []\" has-modal-card>\r\n      <div class=\"modal-card\">\r\n        <div class=\"modal-card-head\">\r\n          <b-icon icon=\"history\"/>\r\n          <p class=\"modal-card-title\">{{ trans('Activity Log') }}</p>\r\n        </div>\r\n        <div class=\"modal-card-body\">\r\n          <nz-field-observation-activity-log :activities=\"activityLog\"/>\r\n        </div>\r\n      </div>\r\n    </b-modal>\r\n\r\n    <b-modal :active=\"showExportModal\" @close=\"showExportModal = false\" has-modal-card :can-cancel=\"[]\">\r\n      <nz-export-modal\r\n        :checked=\"checkedIds\"\r\n        :filter=\"filter\"\r\n        :columns=\"exportColumns\"\r\n        :url=\"exportUrl\"\r\n        :sort=\"sortBy\"\r\n        @cancel=\"showExportModal = false\"\r\n        @done=\"onExportDone\"\r\n      />\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _range from 'lodash/range'\r\nimport dayjs from '@/dayjs'\r\nimport FilterableTableMixin from '@/mixins/FilterableTableMixin'\r\nimport PersistentTableMixin from '@/mixins/PersistentTableMixin'\r\nimport ExportDownloadModal from '@/components/exports/ExportDownloadModal'\r\nimport NzImageModal from '@/components/ImageModal'\r\nimport NzTaxonAutocomplete from '@/components/inputs/TaxonAutocomplete'\r\nimport NzUserAutocomplete from '@/components/inputs/UserAutocomplete'\r\nimport NzPerPageSelect from '@/components/table/PerPageSelect'\r\nimport NzSortableColumnHeader from '@/components/table/SortableColumnHeader'\r\nimport NzExportModal from '@/components/exports/ExportModal'\r\n\r\nexport default {\r\n  name: 'nzElectrocutionObservationsTable',\r\n\r\n  mixins: [FilterableTableMixin, PersistentTableMixin],\r\n\r\n  components: {\r\n    NzImageModal,\r\n    NzTaxonAutocomplete,\r\n    NzUserAutocomplete,\r\n    NzPerPageSelect,\r\n    NzSortableColumnHeader,\r\n    NzExportModal\r\n  },\r\n\r\n  props: {\r\n    perPageOptions: {\r\n      type: Array,\r\n      default() {\r\n        return [15, 30, 50, 100]\r\n      },\r\n      validator: value => value.length\r\n    },\r\n    listRoute: String,\r\n    viewRoute: String,\r\n    editRoute: String,\r\n    deleteRoute: String,\r\n    approveRoute: String,\r\n    markAsUnidentifiableRoute: String,\r\n    moveToPendingRoute: String,\r\n    empty: {\r\n      type: String,\r\n      default: 'Nothing here.'\r\n    },\r\n    approvable: Boolean,\r\n    markableAsUnidentifiable: Boolean,\r\n    movableToPending: Boolean,\r\n    showStatus: Boolean,\r\n    showActivityLog: Boolean,\r\n    // showObserver: Boolean,\r\n    exportUrl: String,\r\n    exportColumns: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      data: [],\r\n      total: 0,\r\n      loading: false,\r\n      sortField: 'id',\r\n      sortOrder: 'desc',\r\n      page: 1,\r\n      perPage: this.perPageOptions[0],\r\n      isImageModalActive: false,\r\n      modalImages: [],\r\n      modalImageIndex: 0,\r\n      checkedRows: [],\r\n      approving: false,\r\n      markingAsUnidentifiable: false,\r\n      movingToPending: false,\r\n      activityLog: [],\r\n      showExportModal: false,\r\n      showObserver: false,\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    months() {\r\n      return dayjs.months()\r\n    },\r\n\r\n    days() {\r\n      return _range(1, 32)\r\n    },\r\n\r\n    hasActions() {\r\n      return this.approvable\r\n        || this.markableAsUnidentifiable\r\n        || this.movableToPending\r\n        || this.exportable\r\n    },\r\n\r\n    actionRunning() {\r\n      return this.approving || this.movingToPending || this.markingAsUnidentifiable\r\n    },\r\n\r\n    checkedIds() {\r\n      return this.checkedRows.map(row => row.id)\r\n    },\r\n\r\n    exportable() {\r\n      return !!(this.exportUrl && this.exportColumns.length)\r\n    },\r\n\r\n    sortBy() {\r\n      return `${this.sortField}.${this.sortOrder}`\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.restoreState()\r\n    this.loadAsyncData()\r\n\r\n    this.$on('filter', () => {\r\n      this.page = 1\r\n      this.saveState()\r\n      this.loadAsyncData()\r\n    })\r\n  },\r\n\r\n  methods: {\r\n    loadAsyncData() {\r\n      this.loading = true\r\n      this.checkedRows = []\r\n\r\n      const {selectedTaxon, ...filter} = this.filter\r\n\r\n      return axios.get(route(this.listRoute).withQuery({\r\n        ...filter,\r\n        sort_by: this.sortBy,\r\n        page: this.page,\r\n        per_page: this.perPage,\r\n      })).then(({data: response}) => {\r\n        this.data = response.data\r\n        this.total = response.meta.total\r\n        this.loading = false\r\n      }, () => {\r\n        this.data = []\r\n        this.total = 0\r\n        this.loading = false\r\n      })\r\n    },\r\n\r\n    getPersistantKeys() {\r\n      return [\r\n        'sortField', 'sortOrder', 'perPage', 'page',\r\n        'newFilter', 'filter', 'filterIsActive'\r\n      ]\r\n    },\r\n\r\n    /*\r\n     * Handle page-change event\r\n     */\r\n    onPageChange(page) {\r\n      this.page = page\r\n\r\n      this.saveState()\r\n\r\n      this.loadAsyncData()\r\n    },\r\n\r\n    /*\r\n     * Handle sort event\r\n     */\r\n    onSort(field, order) {\r\n      this.sortField = field\r\n      this.sortOrder = order\r\n\r\n      this.saveState()\r\n\r\n      this.loadAsyncData()\r\n    },\r\n\r\n    onPerPageChange(perPage) {\r\n      if (perPage === this.perPage) return\r\n\r\n      this.perPage = perPage\r\n\r\n      this.saveState()\r\n\r\n      this.loadAsyncData()\r\n    },\r\n\r\n    confirmRemove(row) {\r\n      this.$buefy.dialog.confirm({\r\n        message: this.trans('Are you sure you want to delete this record?'),\r\n        confirmText: this.trans('buttons.delete'),\r\n        cancelText: this.trans('buttons.cancel'),\r\n        type: 'is-danger',\r\n        onConfirm: () => {\r\n          this.remove(row)\r\n        }\r\n      })\r\n    },\r\n\r\n    remove(row) {\r\n      return axios.delete(route(this.deleteRoute, row.id)).then(response => {\r\n        this.$buefy.toast.open({\r\n          message: this.trans('Record deleted'),\r\n          type: 'is-success'\r\n        })\r\n\r\n        this.loadAsyncData()\r\n      }).catch(error => {\r\n        console.error(error)\r\n      })\r\n    },\r\n\r\n    editLink(row) {\r\n      return route(this.editRoute, row.id)\r\n    },\r\n\r\n    viewLink(row) {\r\n      return this.viewRoute ? route(this.viewRoute, row.id) : null\r\n    },\r\n\r\n    observationHasPhotos(observation) {\r\n      return observation.photos.filter(photo => photo.url).length > 0\r\n    },\r\n\r\n    openImageModal(photos, open) {\r\n      this.modalImageIndex = open\r\n      this.modalImages = photos.map(photo => photo.url)\r\n    },\r\n\r\n    onCarouselClose() {\r\n      this.modalImages = []\r\n      this.modalImagesIndex = 0\r\n    },\r\n\r\n    confirmApprove() {\r\n      this.$buefy.dialog.confirm({\r\n        message: this.trans('You are about to approve checked observations.<br/>Those of them that cannot be approved, will not be approved.'),\r\n        confirmText: this.trans('buttons.approve'),\r\n        cancelText: this.trans('buttons.cancel'),\r\n        type: 'is-primary',\r\n        onConfirm: this.approve.bind(this)\r\n      })\r\n    },\r\n\r\n    approve() {\r\n      this.approving = true\r\n\r\n      axios.post(route(this.approveRoute), {\r\n        field_observation_ids: this.checkedRows.map(row => row.id)\r\n      }).then(this.successfullyApproved).catch(this.failedToApprove)\r\n    },\r\n\r\n    successfullyApproved() {\r\n      this.checkedRows = []\r\n      this.approving = false\r\n\r\n      this.$buefy.toast.open({\r\n        message: this.trans('Observations have been approved'),\r\n        type: 'is-success'\r\n      })\r\n\r\n      this.loadAsyncData()\r\n    },\r\n\r\n    failedToApprove(error) {\r\n      this.approving = false\r\n\r\n      this.$buefy.toast.open({\r\n        message: this.trans('Observations cannot be approved'),\r\n        type: 'is-danger',\r\n        duration: 5000\r\n      })\r\n    },\r\n\r\n    confirmMarkingAsUnidentifiable() {\r\n      const dialog = this.$buefy.dialog.prompt({\r\n        message: this.trans('You are about to mark checked observations as unidentifiable. What\\'s the reason?'),\r\n        confirmText: this.trans('buttons.mark_unidentifiable'),\r\n        cancelText: this.trans('buttons.cancel'),\r\n        type: 'is-warning',\r\n        inputAttrs: {\r\n          placeholder: this.trans('Reason'),\r\n          required: true,\r\n          maxlength: 255\r\n        },\r\n        onConfirm: this.markAsUnidentifiable.bind(this)\r\n      })\r\n\r\n      dialog.$nextTick(() => {\r\n        this.validateReason(dialog)\r\n      })\r\n    },\r\n\r\n    markAsUnidentifiable(reason) {\r\n      this.markingAsUnidentifiable = true\r\n\r\n      axios.post(route(this.markAsUnidentifiableRoute), {\r\n        field_observation_ids: this.checkedRows.map(row => row.id),\r\n        reason\r\n      }).then(this.successfullyMarkedAsUnidentifiable)\r\n        .catch(this.failedToMarkAsUnidentifiable)\r\n    },\r\n\r\n    successfullyMarkedAsUnidentifiable() {\r\n      this.checkedRows = []\r\n      this.markingAsUnidentifiable = false\r\n      this.$buefy.toast.open({\r\n        message: this.trans('Observations have been marked as unidentifiable'),\r\n        type: 'is-success'\r\n      })\r\n      this.loadAsyncData()\r\n    },\r\n\r\n    failedToMarkAsUnidentifiable(error) {\r\n      this.markingAsUnidentifiable = false\r\n      this.$buefy.toast.open({\r\n        message: this.trans('Some of the observations cannot be marked as unidentifiable'),\r\n        type: 'is-danger',\r\n        duration: 5000\r\n      })\r\n    },\r\n\r\n    determineStatusIcon(status) {\r\n      if (status === 'unidentifiable') {\r\n        return 'times'\r\n      }\r\n\r\n      if (status === 'approved') {\r\n        return 'check'\r\n      }\r\n\r\n      return 'question'\r\n    },\r\n\r\n    determineStatusClass(status) {\r\n      if (status === 'unidentifiable') {\r\n        return 'has-text-danger'\r\n      }\r\n\r\n      if (status === 'approved') {\r\n        return 'has-text-success'\r\n      }\r\n\r\n      return 'has-text-info'\r\n    },\r\n\r\n    openActivityLogModal(row) {\r\n      this.activityLog = row.activity\r\n    },\r\n\r\n    validateReason(dialog) {\r\n      dialog.$refs.input.addEventListener('invalid', (e) => {\r\n        e.target.setCustomValidity('')\r\n\r\n        if (!e.target.validity.valid) {\r\n          e.target.setCustomValidity(this.trans('This field is required and can contain max 255 chars.'))\r\n        }\r\n      })\r\n\r\n      dialog.$refs.input.addEventListener('input', (e) => {\r\n        dialog.validationMessage = null\r\n      })\r\n    },\r\n\r\n    confirmMoveToPending() {\r\n      const dialog = this.$buefy.dialog.prompt({\r\n        message: this.trans('You are about to move checked observations to pending. What\\'s the reason?'),\r\n        confirmText: this.trans('buttons.move_to_pending'),\r\n        cancelText: this.trans('buttons.cancel'),\r\n        type: 'is-warning',\r\n        inputAttrs: {\r\n          placeholder: this.trans('Reason'),\r\n          required: true,\r\n          maxlength: 255\r\n        },\r\n        onConfirm: this.moveToPending.bind(this)\r\n      })\r\n\r\n      dialog.$nextTick(() => {\r\n        this.validateReason(dialog)\r\n      })\r\n    },\r\n\r\n    moveToPending(reason) {\r\n      this.movingToPending = true\r\n\r\n      axios.post(route(this.moveToPendingRoute), {\r\n        field_observation_ids: this.checkedRows.map(row => row.id),\r\n        reason\r\n      }).then(this.successfullyMovedToPending).catch(this.failedToMoveToPending)\r\n    },\r\n\r\n    successfullyMovedToPending() {\r\n      this.checkedRows = []\r\n      this.movingToPending = false\r\n      this.$buefy.toast.open({\r\n        message: this.trans('Observations have been moved to pending'),\r\n        type: 'is-success'\r\n      })\r\n      this.loadAsyncData()\r\n    },\r\n\r\n    failedToMoveToPending(error) {\r\n      this.movingToPending = false\r\n      this.$buefy.toast.open({\r\n        message: this.trans('Whoops, looks like something went wrong.'),\r\n        type: 'is-danger',\r\n        duration: 5000\r\n      })\r\n      this.loadAsyncData()\r\n    },\r\n\r\n    filterDefaults() {\r\n      return {\r\n        status: null,\r\n        taxon: null,\r\n        taxonId: null,\r\n        year: null,\r\n        month: null,\r\n        day: null,\r\n        photos: null,\r\n        observer: null,\r\n        includeChildTaxa: false,\r\n        selectedTaxon: null,\r\n        project: null,\r\n        id: null\r\n      }\r\n    },\r\n\r\n    openExportModal() {\r\n      this.showExportModal = true\r\n    },\r\n\r\n    onExportDone(finishedExport) {\r\n      this.showExportModal = false\r\n\r\n      if (finishedExport.url) {\r\n        this.$buefy.modal.open({\r\n          parent: this,\r\n          component: ExportDownloadModal,\r\n          canCancel: [],\r\n          hasModalCard: true,\r\n          props: {\r\n            url: finishedExport.url,\r\n          }\r\n        })\r\n      } else {\r\n        this.$buefy.toast.open({\r\n          duration: 0,\r\n          message: `Something's not good, also I'm on bottom`,\r\n          type: 'is-danger'\r\n        })\r\n      }\r\n    },\r\n\r\n    onTaxonSelect(taxon) {\r\n      this.newFilter.taxonId = taxon ? taxon.id : null\r\n      this.newFilter.selectedTaxon = taxon\r\n    }\r\n  },\r\n\r\n  filters: {\r\n    /**\r\n     * Filter to truncate string, accepts a length parameter\r\n     */\r\n    truncate(value, length) {\r\n      return value.length > length\r\n        ? value.substr(0, length) + '...'\r\n        : value\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElectrocutionObservationsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElectrocutionObservationsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ElectrocutionObservationsTable.vue?vue&type=template&id=5df3ebd1&\"\nimport script from \"./ElectrocutionObservationsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ElectrocutionObservationsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"active\":_vm.active,\"can-cancel\":['escape', 'x']},on:{\"update:active\":function($event){_vm.active=$event},\"close\":_vm.onClose}},[_c('div',{staticClass:\"image-modal\"},[_c('img',{attrs:{\"src\":_vm.openImage}}),_vm._v(\" \"),(_vm.items.length > 1)?_c('div',{staticClass:\"image-modal-navigation\"},[_c('div',{staticClass:\"image-modal-previous\",on:{\"click\":_vm.prev}},[_c('i',{staticClass:\"fa fa-chevron-left\",attrs:{\"aria-hidden\":\"true\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"image-modal-next\",on:{\"click\":_vm.next}},[_c('i',{staticClass:\"fa fa-chevron-right\",attrs:{\"aria-hidden\":\"true\"}})])]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageModal.vue?vue&type=script&lang=js&\"","<template>\r\n  <b-modal :active.sync=\"active\" :can-cancel=\"['escape', 'x']\" @close=\"onClose\">\r\n    <div class=\"image-modal\">\r\n      <img :src=\"openImage\">\r\n\r\n      <div class=\"image-modal-navigation\" v-if=\"items.length > 1\">\r\n        <div class=\"image-modal-previous\" @click=\"prev\">\r\n          <i class=\"fa fa-chevron-left\" aria-hidden=\"true\"></i>\r\n        </div>\r\n\r\n        <div class=\"image-modal-next\" @click=\"next\">\r\n          <i class=\"fa fa-chevron-right\" aria-hidden=\"true\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </b-modal>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'nzImageModal',\r\n\r\n  props: {\r\n    items: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    value: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      newValue: this.value,\r\n      active: false\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    openImage() {\r\n      return this.items[this.newValue]\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    newValue() {\r\n      this.$emit('input', this.newValue)\r\n    },\r\n\r\n    openImage: {\r\n      handler(value) {\r\n        this.active = Boolean(value)\r\n      }\r\n    }\r\n  },\r\n\r\n  created() {\r\n    document.addEventListener('keyup', this.registerKeyListener)\r\n  },\r\n\r\n  mounted() {\r\n    this.active = Boolean(this.openImage)\r\n  },\r\n\r\n  beforeDestroy() {\r\n    document.removeEventListener('keyup', this.registerKeyListener)\r\n  },\r\n\r\n  methods: {\r\n    next() {\r\n      let newValue = this.newValue + 1\r\n\r\n      if (newValue >= this.items.length) {\r\n        newValue = 0\r\n      }\r\n\r\n      this.newValue = newValue\r\n    },\r\n\r\n    prev() {\r\n      let newValue = this.newValue - 1\r\n\r\n      if (newValue < 0) {\r\n        newValue = this.items.length - 1\r\n      }\r\n\r\n      this.newValue = newValue\r\n    },\r\n\r\n    registerKeyListener(e) {\r\n      const key = e.which || e.keyCode\r\n\r\n      if (key === 37) { // left arrow\r\n        this.prev()\r\n      } else if (key === 39) { // right arrow\r\n        this.next()\r\n      }\r\n    },\r\n\r\n    onClose(e) {\r\n      this.active = false\r\n\r\n      // b-modal component adds classes that prevent scrolling on body when active\r\n      // so we need to wait for it to remove them before we signal it's closing\r\n      this.$nextTick(() => {\r\n        this.$emit('close', e)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./ImageModal.vue?vue&type=template&id=0d20be8b&\"\nimport script from \"./ImageModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}