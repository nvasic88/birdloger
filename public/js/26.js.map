{"version":3,"sources":["webpack:///./resources/js/components/inputs/UserAutocomplete.vue?200d","webpack:///resources/js/components/inputs/UserAutocomplete.vue","webpack:///./resources/js/components/inputs/UserAutocomplete.vue?9f60","webpack:///./resources/js/components/inputs/UserAutocomplete.vue","webpack:///./resources/js/models/user.js","webpack:///./resources/js/mixins/UserMixin.js","webpack:///./resources/js/components/inputs/PhotoUpload.vue?b649","webpack:///./resources/js/Croppr.js","webpack:///./resources/js/components/ImageCropModal.vue?7cdd","webpack:///resources/js/components/ImageCropModal.vue","webpack:///./resources/js/components/inputs/PhotoUpload.vue?7763","webpack:///resources/js/components/inputs/PhotoUpload.vue","webpack:///./resources/js/components/ImageCropModal.vue","webpack:///./resources/js/components/ImageCropModal.vue?9faf","webpack:///./resources/js/components/inputs/PhotoUpload.vue","webpack:///./resources/js/components/ImageModal.vue?e923","webpack:///./resources/js/components/ImageModal.vue?a0e2","webpack:///resources/js/components/ImageModal.vue","webpack:///./resources/js/components/ImageModal.vue","webpack:///./resources/js/components/forms/PoachingObservationForm.vue?7067","webpack:///resources/js/components/forms/PoachingObservationForm.vue","webpack:///./resources/js/components/forms/PoachingObservationForm.vue?1ec1","webpack:///./resources/js/components/forms/PoachingObservationForm.vue"],"names":["name","props","label","type","String","default","placeholder","user","Object","route","value","error","Boolean","message","except","autofocus","disabled","data","selected","this","loading","computed","icon","watch","methods","fetchData","params","forEach","onSelect","$emit","onInput","currentValue","focusOnInput","$el","querySelector","focus","getValue","option","component","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","scopedSlots","_u","key","fn","_v","_s","full_name","email","User","attribute","roles","Array","isArray","_intersection","map","role","length","currentUser","window","App","isCuratorOrAdmin","hasRole","Croppr","actualWidth","imageEl","naturalWidth","actualHeight","naturalHeight","factorX","offsetWidth","factorY","offsetHeight","box","Box","Math","round","x","y","width","height","redraw","BaseCroppr","mixins","canCancel","imageUrl","crop","newCrop","preserveRatio","mounted","document","addEventListener","ctrlIsPressed","ctrlIsNotPressed","beforeDestroy","removeEventListener","isActive","handleScroll","croppr","$nextTick","onCropEnd","onInitialize","setBoxToRealPosition","savedScrollTop","body","classList","toggle","style","top","documentElement","scrollTop","cropImage","close","e","which","options","aspectRatio","components","NzImageCropModal","animation","maxWidth","newWidth","ref","$event","cancel","_e","NzImageModal","withCrop","uploading","headers","getImageDataUrl","canvas","createElement","setAttribute","img","getContext","drawImage","toDataURL","haveImage","showModal","thumbnailUrl","openCropModal","closeCropModal","image","path","hasExisting","remove","license","handleLicenseChanged","domProps","trans","_l","showCropModal","url","$set","progress","text","items","Number","newValue","active","openImage","handler","created","registerKeyListener","next","prev","onClose","FormMixin","NzDateInput","NzPhotoUpload","NzSpatialInput","NzTaxonAutocomplete","NzUserAutocomplete","observation","taxon","taxon_id","taxon_suggestion","year","month","day","latitude","longitude","accuracy","elevation","location","photos","observer","identifier","note","sex","number","number_of","project","habitat","found_on","stage_id","found_dead","found_dead_note","data_license","image_license","types","observers","field_observers","observed_by_id","observed_by","identified_by_id","identified_by","dataset","atlas_code","description","comment","data_provider","data_limit","indigenous","exact_number","place","municipality","data_id","folder_id","file","offence_details","in_report","case_reported","case_reported_by","opportunity","annotation","suspect_name","suspect_place","suspect_profile","suspect_note","associates","origin_of_individuals","cites","proceeding","verdict","verdict_date","source","dead_from_total","alive_from_total","suspects_number","sanction_eur","sanction_rsd","community_sentence","sources","offences","licenses","sexes","observationTypes","stages","showObserverIdentifier","fieldObservers","poachingSources","atlasCodes","keepAfterSubmit","getAttributesToKeep","showMoreDetails","locale","observationTypeSearch","shouldClearType","exifExtracted","lastStageId","observerFirstName","observerLastName","observerErrors","sourceDescription","sourceLink","selectedObservationTypes","get","filter","set","form","observation_types_ids","availableObservationTypes","isIdentified","identificationChanged","setDefaultObservationType","newForm","photo","offences_ids","reason","Date","resetOnSuccess","addObserver","push","$forceUpdate","removeObserver","axios","$delete","index","hookAfterSubmitWithoutRedirect","clearPhotos","$refs","taxonAutocomplete","onTaxonSelect","id","invalidStage","updateIdentifier","onPhotoUploaded","availableType","pushSelectedObservationType","promptToExtractExifData","onPhotoRemoved","selectedTypeIndex","splice","onPhotoCropped","photoIndex","croppedImage","getObservationPhotoAttribute","updated","isValid","onTypeTyping","onTypeBackspace","exif","$buefy","dialog","confirm","extractExifMessage","replace","cancelText","confirmText","onConfirm","onCancel","extractExifData","fillFromExif","onObserverSelect","onIdentifierSelect","onLicenseChanged","addSource","removeSource","action","directives","rawName","expression","errors","has","first","model","callback","$$v","stage","nativeOn","indexOf","_k","keyCode","atlasCode","code","slot","content","offence","link","preventDefault","firstName","lastName","class","submittingWithRedirect","submitWithRedirect","submittingWithoutRedirect","submitWithoutRedirect","cancelUrl"],"mappings":"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","file":"js/26.js?id=5d7023277a42af1fc95e","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-field',{staticClass:\"nz-user-autocomplete\",attrs:{\"label\":_vm.label,\"type\":_vm.error ? 'is-danger' : null,\"message\":_vm.message}},[_c('b-field',{attrs:{\"grouped\":\"\"}},[_c('b-autocomplete',{attrs:{\"value\":_vm.value,\"data\":_vm.data,\"field\":\"full_name\",\"loading\":_vm.loading,\"icon\":_vm.icon,\"placeholder\":_vm.placeholder,\"expanded\":\"\",\"autofocus\":_vm.autofocus,\"disabled\":_vm.disabled},on:{\"input\":_vm.onInput,\"select\":_vm.onSelect},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('div',{staticClass:\"media\"},[_c('div',{staticClass:\"media-content\"},[_vm._v(\"\\n            \"+_vm._s(props.option.full_name)+\" \"),_c('small',[_vm._v(\"<\"+_vm._s(props.option.email)+\">\")])])])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-field :label=\"label\" class=\"nz-user-autocomplete\" :type=\"error ? 'is-danger' : null\" :message=\"message\">\r\n    <b-field grouped>\r\n      <b-autocomplete\r\n        :value=\"value\"\r\n        :data=\"data\"\r\n        field=\"full_name\"\r\n        :loading=\"loading\"\r\n        @input=\"onInput\"\r\n        @select=\"onSelect\"\r\n        :icon=\"icon\"\r\n        :placeholder=\"placeholder\"\r\n        expanded\r\n        :autofocus=\"autofocus\"\r\n        :disabled=\"disabled\"\r\n      >\r\n        <template slot-scope=\"props\">\r\n          <div class=\"media\">\r\n            <div class=\"media-content\">\r\n              {{ props.option.full_name }} <small>&lt;{{ props.option.email }}&gt;</small>\r\n            </div>\r\n          </div>\r\n        </template>\r\n\r\n      </b-autocomplete>\r\n    </b-field>\r\n  </b-field>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport _debounce from 'lodash/debounce'\r\nimport _get from 'lodash/get'\r\n\r\nexport default {\r\n  name: 'nzUserAutocomplete',\r\n\r\n  props: {\r\n    label: {\r\n      type: String,\r\n      default: 'User'\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: 'Search for user...'\r\n    },\r\n    user: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n    route: {\r\n      type: String,\r\n      default: 'api.autocomplete.users.index'\r\n    },\r\n    value: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    error: Boolean,\r\n    message: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    except: {},\r\n    autofocus: Boolean,\r\n    disabled: Boolean\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      data: [],\r\n      selected: this.user || null,\r\n      loading: false\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    icon() {\r\n      return this.selected ? 'check' : null\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    user(value) {\r\n      this.selected = value\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    fetchData: _debounce(function() {\r\n      if (!this.value) return\r\n\r\n      this.data = []\r\n      this.loading = true\r\n\r\n      let params = {\r\n        name: this.value,\r\n      }\r\n\r\n      if (this.except) {\r\n        params.except = this.except\r\n      }\r\n\r\n      axios.get(route(this.route), { params }).then(({ data }) => {\r\n        data.data.forEach((item) => this.data.push(item))\r\n        this.loading = false\r\n      }, response => {\r\n        this.loading = false\r\n      })\r\n    }, 500),\r\n\r\n    onSelect(user) {\r\n      this.selected = user\r\n\r\n      this.$emit('select', user)\r\n    },\r\n\r\n    onInput(value) {\r\n      const currentValue = this.getValue(this.selected)\r\n      if (currentValue && currentValue !== value) {\r\n        this.onSelect(null)\r\n      }\r\n\r\n      this.$emit('input', value)\r\n\r\n      this.fetchData()\r\n    },\r\n\r\n    focusOnInput() {\r\n      this.$el.querySelector('input').focus()\r\n    },\r\n\r\n    /**\r\n     * Return display text for the input.\r\n     * If object, get value from path, or else just the value.\r\n     */\r\n    getValue(option) {\r\n      if (!option) return\r\n\r\n      return typeof option === 'object'\r\n        ? _get(option, 'full_name')\r\n        : option\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAutocomplete.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAutocomplete.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserAutocomplete.vue?vue&type=template&id=5566d9c1&\"\nimport script from \"./UserAutocomplete.vue?vue&type=script&lang=js&\"\nexport * from \"./UserAutocomplete.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import _intersection from 'lodash/intersection'\r\n\r\nexport default class User {\r\n  constructor(data) {\r\n    for (let attribute in data) {\r\n      this[attribute] = data[attribute];\r\n    }\r\n  }\r\n\r\n  hasRole(roles) {\r\n    if (!Array.isArray(roles)) {\r\n      roles = [roles]\r\n    }\r\n\r\n    return !!_intersection(this.roles.map(role => role.name), roles).length;\r\n  }\r\n}\r\n","import User from '@/models/user'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      currentUser: new User(window.App.User)\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    isCuratorOrAdmin() {\r\n        return this.currentUser.hasRole(['admin', 'curator'])\r\n    }\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.haveImage)?_c('b-field',{attrs:{\"message\":_vm.error || null,\"type\":_vm.error ? 'is-danger' : null,\"expanded\":\"\"}},[_c('b-upload',{attrs:{\"drag-drop\":\"\",\"expanded\":\"\",\"disabled\":_vm.uploading || _vm.loading},on:{\"input\":_vm.onInput}},[_c('section',{ref:\"uploadZone\",staticClass:\"section is-relative\"},[_c('div',{staticClass:\"has-text-centered\"},[_c('div',[_c('b-icon',{attrs:{\"icon\":\"upload\",\"size\":\"is-medium\"}})],1),_vm._v(\" \"),(_vm.uploading)?_c('progress',{staticClass:\"progress is-primary is-small\",attrs:{\"max\":\"100\"},domProps:{\"value\":_vm.progress}},[_vm._v(_vm._s(_vm.progress)+\"%\")]):(_vm.loading)?_c('div',[_vm._v(_vm._s(_vm.trans('Loading...')))]):_c('div',[_vm._v(_vm._s(_vm.text))])])])])],1):_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-image\"},[_c('figure',{staticClass:\"has-magnifier has-text-centered\",on:{\"click\":function($event){_vm.showModal = true}}},[_c('img',{staticClass:\"max-h-36\",attrs:{\"src\":_vm.thumbnailUrl,\"alt\":\"Uploaded photo\"}}),_vm._v(\" \"),_c('div',{staticClass:\"image-magnifier\"},[_c('b-icon',{attrs:{\"icon\":\"expand\",\"size\":\"is-medium\"}})],1)])]),_vm._v(\" \"),(_vm.haveImage)?_c('footer',{staticClass:\"card-footer\"},[_c('div',{staticClass:\"card-footer-item flex-col\"},[_c('div',{staticClass:\"mb-4 w-full flex justify-between\"},[(_vm.withCrop)?_c('button',{staticClass:\"button is-outlined is-small mr-2\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.openCropModal,\"close\":_vm.closeCropModal}},[_c('b-icon',{attrs:{\"icon\":\"crop\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.image.path || _vm.hasExisting)?_c('button',{staticClass:\"delete is-danger is-medium\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.remove}}):_vm._e()]),_vm._v(\" \"),(_vm.withLicense)?_c('div',{staticClass:\"w-full\"},[_c('b-select',{attrs:{\"value\":_vm.image.license,\"expanded\":\"\"},on:{\"input\":_vm.handleLicenseChanged}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.default')))]),_vm._v(\" \"),_vm._l((_vm.licenses),function(label,value){return _c('option',{key:value,domProps:{\"value\":value,\"textContent\":_vm._s(label)}})})],2)],1):_vm._e()])]):_vm._e(),_vm._v(\" \"),(_vm.haveImage)?_c('nz-image-crop-modal',{attrs:{\"active\":_vm.showCropModal,\"crop\":_vm.image.crop,\"image-url\":_vm.image.url},on:{\"update:active\":function($event){_vm.showCropModal=$event},\"update:crop\":function($event){return _vm.$set(_vm.image, \"crop\", $event)}}}):_vm._e(),_vm._v(\" \"),(_vm.showModal)?_c('nz-image-modal',{attrs:{\"items\":[_vm.thumbnailUrl]},on:{\"close\":function($event){_vm.showModal = false}}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import BaseCroppr from 'croppr'\r\nimport Box from 'croppr/src/box'\r\n\r\nexport default class Croppr extends BaseCroppr {\r\n  setBoxToRealPosition(value) {\r\n    const actualWidth = this.imageEl.naturalWidth\r\n    const actualHeight = this.imageEl.naturalHeight\r\n    const factorX = actualWidth / this.imageEl.offsetWidth\r\n    const factorY = actualHeight / this.imageEl.offsetHeight\r\n\r\n    this.box = new Box(\r\n      Math.round(value.x / factorX),\r\n      Math.round(value.y / factorY),\r\n      Math.round((value.x + value.width) / factorX),\r\n      Math.round((value.y + value.height) / factorY)\r\n    )\r\n\r\n    this.redraw()\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageCropModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageCropModal.vue?vue&type=script&lang=js&\"","<template>\r\n  <transition :name=\"animation\">\r\n    <div v-if=\"isActive\" class=\"modal is-active\">\r\n      <div class=\"modal-background\"/>\r\n\r\n      <div\r\n        class=\"animation-content modal-content\"\r\n        :style=\"{ maxWidth: newWidth }\"\r\n      >\r\n        <img\r\n          :src=\"imageUrl\"\r\n          class=\"image\"\r\n          alt=\"Cropped image\"\r\n          ref=\"cropModalImage\"\r\n        >\r\n      </div>\r\n\r\n      <button\r\n        type=\"button\"\r\n        class=\"modal-close is-large\"\r\n        @click=\"cancel('x')\"\r\n      />\r\n\r\n      <button\r\n        type=\"button\"\r\n        class=\"modal-action\"\r\n        @click=\"cropImage\"\r\n      >\r\n        <b-icon icon=\"check\"/>\r\n      </button>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport Croppr from '@/Croppr'\r\nimport bModal from 'buefy/src/components/modal/Modal'\r\n\r\nexport default {\r\n  name: 'nzImageCropModal',\r\n\r\n  mixins: [bModal],\r\n\r\n  props: {\r\n    canCancel: {\r\n      type: [Array, Boolean],\r\n      default: () => ['escape', 'x']\r\n    },\r\n    imageUrl: String,\r\n    crop: Object\r\n  },\r\n\r\n  data() {\r\n    return {\r\n\t\t\tcroppr: null,\r\n      newCrop: this.crop,\r\n      preserveRatio: false\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    document.addEventListener('keydown', this.ctrlIsPressed)\r\n    document.addEventListener('keyup', this.ctrlIsNotPressed)\r\n  },\r\n\r\n  beforeDestroy() {\r\n    document.removeEventListener('keydown', this.ctrlIsPressed)\r\n    document.removeEventListener('keyup', this.ctrlIsNotPressed)\r\n  },\r\n\r\n  watch: {\r\n    isActive(value) {\r\n      this.handleScroll()\r\n\r\n      this.croppr =  null\r\n\r\n      if (value) {\r\n        this.$nextTick(() => {\r\n          this.croppr = new Croppr(this.$refs.cropModalImage, {\r\n            onCropEnd: (value) => {\r\n              this.newCrop = value\r\n            },\r\n\r\n            onInitialize: (croppr) => {\r\n              if (this.newCrop) {\r\n                croppr.setBoxToRealPosition(this.newCrop)\r\n              }\r\n            }\r\n          })\r\n        })\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    handleScroll() {\r\n      if (typeof window === 'undefined') return\r\n\r\n      this.savedScrollTop = !this.savedScrollTop\r\n        ? document.documentElement.scrollTop\r\n        : this.savedScrollTop\r\n\r\n      document.body.classList.toggle('is-noscroll', this.isActive)\r\n\r\n      if (this.isActive) {\r\n        document.body.style.top = `-${this.savedScrollTop}px`\r\n        return\r\n      }\r\n\r\n      document.documentElement.scrollTop = this.savedScrollTop\r\n      document.body.style.top = null\r\n      this.savedScrollTop = null\r\n    },\r\n\r\n    cropImage() {\r\n      this.$emit('update:crop', this.newCrop)\r\n\r\n      this.close()\r\n    },\r\n\r\n    ctrlIsPressed(e) {\r\n      if (e.which == 17 && this.croppr) {\r\n        this.croppr.options.aspectRatio = this.croppr.box.height() / this.croppr.box.width()\r\n      }\r\n    },\r\n\r\n    ctrlIsNotPressed(e) {\r\n      if (e.which == 17  && this.croppr) {\r\n        this.croppr.options.aspectRatio = null\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhotoUpload.vue?vue&type=script&lang=js&\"","<template>\r\n\t<b-field v-if=\"!haveImage\" :message=\"error || null\" :type=\"error ? 'is-danger' : null\" expanded>\r\n\t\t<b-upload @input=\"onInput\" drag-drop expanded :disabled=\"uploading || loading\">\r\n\t\t\t<section class=\"section is-relative\" ref=\"uploadZone\">\r\n\t\t\t\t<div class=\"has-text-centered\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<b-icon\r\n\t\t\t\t\t\t\ticon=\"upload\"\r\n\t\t\t\t\t\t\tsize=\"is-medium\">\r\n\t\t\t\t\t\t</b-icon>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<progress class=\"progress is-primary is-small\" :value=\"progress\" max=\"100\" v-if=\"uploading\">{{ progress }}%</progress>\r\n\r\n          <div v-else-if=\"loading\">{{ trans('Loading...') }}</div>\r\n\r\n\t\t\t\t\t<div v-else>{{ text }}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t</b-upload>\r\n\t</b-field>\r\n\r\n\t<div class=\"card\" v-else>\r\n\t\t<div class=\"card-image\">\r\n\t\t\t<figure class=\"has-magnifier has-text-centered\" @click=\"showModal = true\">\r\n        <img :src=\"thumbnailUrl\" alt=\"Uploaded photo\" class=\"max-h-36\" />\r\n        <div class=\"image-magnifier\">\r\n          <b-icon icon=\"expand\" size=\"is-medium\" />\r\n        </div>\r\n\t\t\t</figure>\r\n\t  </div>\r\n\r\n\t\t<footer class=\"card-footer\" v-if=\"haveImage\">\r\n\t\t\t<div class=\"card-footer-item flex-col\">\r\n\t\t\t\t<div class=\"mb-4 w-full flex justify-between\">\r\n\t\t\t\t\t<button\r\n            type=\"button\"\r\n            class=\"button is-outlined is-small mr-2\"\r\n            v-if=\"withCrop\"\r\n            @click=\"openCropModal\"\r\n            @close=\"closeCropModal\"\r\n          >\r\n            <b-icon icon=\"crop\" />\r\n          </button>\r\n\r\n\t\t\t\t\t<button type=\"button\" class=\"delete is-danger is-medium\" @click=\"remove\" v-if=\"image.path || hasExisting\"></button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"w-full\" v-if=\"withLicense\">\r\n\t\t\t\t\t<b-select :value=\"image.license\" @input=\"handleLicenseChanged\" expanded>\r\n\t\t\t\t\t\t<option :value=\"null\">{{ trans('labels.field_observations.default') }}</option>\r\n\t\t\t\t\t\t<option v-for=\"(label, value) in licenses\" :value=\"value\" :key=\"value\" v-text=\"label\"></option>\r\n\t\t\t\t\t</b-select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</footer>\r\n\r\n\t\t<nz-image-crop-modal :active.sync=\"showCropModal\" :crop.sync=\"image.crop\" :image-url=\"image.url\" v-if=\"haveImage\"/>\r\n\r\n\t\t<nz-image-modal :items=\"[thumbnailUrl]\" v-if=\"showModal\" @close=\"showModal = false\"/>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport loadImage from 'blueimp-load-image'\r\nimport NzImageCropModal from '@/components/ImageCropModal'\r\nimport NzImageModal from '@/components/ImageModal'\r\n\r\nexport default {\r\n\tname: 'nzPhotoUpload',\r\n\r\n  components: {\r\n    NzImageCropModal,\r\n    NzImageModal\r\n  },\r\n\r\n  props: {\r\n\t\timageUrl: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: null\r\n\t\t},\r\n\t\timagePath: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: null\r\n\t\t},\r\n\t\timageLicense: {\r\n\t\t\ttype: [Number, String],\r\n\t\t\tdefault: null\r\n\t\t},\r\n\t\tlicenses: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\ttext: String,\r\n\t\twithLicense: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    withCrop: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n\t},\r\n\r\n  data() {\r\n    return {\r\n    \timage: {\r\n\t\t\t\turl: this.imageUrl,\r\n\t\t\t\tpath: this.imagePath,\r\n\t\t\t\tcrop: null,\r\n\t\t\t\tlicense: this.imageLicense\r\n\t\t\t},\r\n\t\t\tcroppedImageUrl: null,\r\n\t\t\treader: null,\r\n      uploading: false,\r\n      loading: false,\r\n\t\t\tprogress: 0,\r\n\t\t\thasExisting: !!this.imageUrl,\r\n\t\t\terror: null,\r\n\t\t\tshowCropModal: false,\r\n\t\t\tshowModal: false\r\n    }\r\n  },\r\n\r\n\twatch: {\r\n\t\t'image.crop': function (value) {\r\n\t\t\tthis.$emit('cropped', this.image)\r\n\r\n\t\t\tif (!value) {\r\n\t\t\t\tthis.croppedImageUrl = null\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tthis.cropThumbnail(value)\r\n    }\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\thaveImage() {\r\n\t\t\treturn !!this.image.url\r\n\t\t},\r\n\r\n\t\tthumbnailUrl() {\r\n\t\t\treturn this.croppedImageUrl || this.image.url\r\n\t\t}\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tselectImage() {\r\n\t\t\tthis.$refs.input.click()\r\n\t\t},\r\n\r\n\t\tonInput(file) {\r\n\t\t\tthis.error = null\r\n\r\n\t\t\tif (!file) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tthis.upload(file)\r\n\t\t},\r\n\r\n\t\tupload(file) {\r\n      this.uploading = true\r\n\t\t\treturn axios.post(route('api.photo-uploads.store'), this.makeForm(file), {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAccept: 'application/json'\r\n\t\t\t\t},\r\n\t\t\t\tonUploadProgress: progressEvent => {\r\n          this.progress = Math.floor((progressEvent.loaded * 100) / progressEvent.total)\r\n\t\t\t\t}\r\n\t\t\t}).then(response => {\r\n        this.image.path = response.data.file\r\n\t\t\t\tthis.image.exif = response.data.exif\r\n\t\t\t\tthis.image.license = null\r\n\t\t\t\tthis.uploading = false\r\n\t\t\t\tthis.progress = 0\r\n\r\n        this.$emit('uploaded', this.image)\r\n\r\n        this.loading = true\r\n\r\n        loadImage(file, img => {\r\n            this.image.url = this.getImageDataUrl(img)\r\n            this.loading = false\r\n        }, { orientation: true })\r\n\t\t\t}).catch(this.handleError)\r\n    },\r\n\r\n    getImageDataUrl(img) {\r\n      let canvas = img\r\n\r\n      if (! (canvas instanceof HTMLCanvasElement)) {\r\n        canvas = document.createElement('canvas')\r\n        canvas.setAttribute('width', img.width)\r\n        canvas.setAttribute('height', img.height)\r\n        canvas.getContext('2d').drawImage(img, 0, 0)\r\n      }\r\n\r\n      return canvas.toDataURL()\r\n    },\r\n\r\n\t\tmakeForm(file) {\r\n\t\t\tlet form = new FormData()\r\n\r\n\t\t\tform.append('file', file)\r\n\r\n\t\t\treturn form\r\n\t\t},\r\n\r\n\t\tremove() {\r\n\t\t\tif (this.hasExisting) {\r\n\t\t\t\tthis.hasExisting = false\r\n\t\t\t\treturn this.clearPhoto()\r\n\t\t\t}\r\n\r\n\t\t\taxios.delete(route('api.photo-uploads.destroy', this.image.path)).then(() => {\r\n\t\t\t\tthis.clearPhoto()\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\tclearPhoto() {\r\n\t\t\tthis.$emit('removed', this.image)\r\n\r\n\t\t\tthis.image.path = null\r\n\t\t\tthis.image.url = null\r\n\t\t\tthis.image.crop = null\r\n\t\t\tthis.image.license = null\r\n\t\t\tthis.croppedImageUrl = null\r\n\t\t},\r\n\r\n\t\thandleError(error) {\r\n\t\t\tthis.uploading = false\r\n\t\t\tthis.loading = false\r\n\t\t\tthis.progress = 0\r\n\t\t\tthis.image.url = null\r\n\t\t\t// Clear the input so we can select the same image if needed.\r\n\t\t\tthis.$el.querySelector('input[type=\"file\"]').value = ''\r\n\r\n\t\t\tif (!error.response) {\r\n\t\t\t\treturn this.$buefy.toast.open({\r\n\t\t\t\t\tduration: 5000,\r\n\t\t\t\t\tmessage: error.message,\r\n\t\t\t\t\tposition: 'is-top',\r\n\t\t\t\t\ttype: 'is-danger'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tthis.error = error.response.data.errors.file[0] || this.trans('Error')\r\n\t\t},\r\n\r\n\t\topenCropModal() {\r\n\t\t\tthis.showCropModal = true\r\n\t\t},\r\n\r\n\t\tcloseCropModal() {\r\n\t\t\tthis.showCropModal = false\r\n\t\t},\r\n\r\n\t\tcropThumbnail(crop) {\r\n\t\t\t// Create image\r\n\t\t\tconst image = document.createElement('img')\r\n\t\t\timage.src = this.image.url\r\n\r\n\t\t\t// Draw canvas\r\n\t\t\tconst canvas = document.createElement('canvas')\r\n\r\n  \t\tcanvas.setAttribute('width', crop.width)\r\n  \t\tcanvas.setAttribute('height', crop.height)\r\n\r\n  \t\tconst context = canvas.getContext('2d')\r\n  \t\tcontext.drawImage(image, -crop.x, -crop.y)\r\n\r\n\t\t\tthis.croppedImageUrl = canvas.toDataURL()\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Handle license change.\r\n\t\t *\r\n\t\t * @param {String|Number} license\r\n\t\t */\r\n\t\thandleLicenseChanged(license) {\r\n\t\t\tthis.image.license = license\r\n\t\t\tthis.$emit('license-changed', license)\r\n    }\r\n\t}\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./ImageCropModal.vue?vue&type=template&id=035960ca&\"\nimport script from \"./ImageCropModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageCropModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":_vm.animation}},[(_vm.isActive)?_c('div',{staticClass:\"modal is-active\"},[_c('div',{staticClass:\"modal-background\"}),_vm._v(\" \"),_c('div',{staticClass:\"animation-content modal-content\",style:({ maxWidth: _vm.newWidth })},[_c('img',{ref:\"cropModalImage\",staticClass:\"image\",attrs:{\"src\":_vm.imageUrl,\"alt\":\"Cropped image\"}})]),_vm._v(\" \"),_c('button',{staticClass:\"modal-close is-large\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.cancel('x')}}}),_vm._v(\" \"),_c('button',{staticClass:\"modal-action\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.cropImage}},[_c('b-icon',{attrs:{\"icon\":\"check\"}})],1)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./PhotoUpload.vue?vue&type=template&id=58da6edb&\"\nimport script from \"./PhotoUpload.vue?vue&type=script&lang=js&\"\nexport * from \"./PhotoUpload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"active\":_vm.active,\"can-cancel\":['escape', 'x']},on:{\"update:active\":function($event){_vm.active=$event},\"close\":_vm.onClose}},[_c('div',{staticClass:\"image-modal\"},[_c('img',{attrs:{\"src\":_vm.openImage}}),_vm._v(\" \"),(_vm.items.length > 1)?_c('div',{staticClass:\"image-modal-navigation\"},[_c('div',{staticClass:\"image-modal-previous\",on:{\"click\":_vm.prev}},[_c('i',{staticClass:\"fa fa-chevron-left\",attrs:{\"aria-hidden\":\"true\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"image-modal-next\",on:{\"click\":_vm.next}},[_c('i',{staticClass:\"fa fa-chevron-right\",attrs:{\"aria-hidden\":\"true\"}})])]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageModal.vue?vue&type=script&lang=js&\"","<template>\r\n  <b-modal :active.sync=\"active\" :can-cancel=\"['escape', 'x']\" @close=\"onClose\">\r\n    <div class=\"image-modal\">\r\n      <img :src=\"openImage\">\r\n\r\n      <div class=\"image-modal-navigation\" v-if=\"items.length > 1\">\r\n        <div class=\"image-modal-previous\" @click=\"prev\">\r\n          <i class=\"fa fa-chevron-left\" aria-hidden=\"true\"></i>\r\n        </div>\r\n\r\n        <div class=\"image-modal-next\" @click=\"next\">\r\n          <i class=\"fa fa-chevron-right\" aria-hidden=\"true\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </b-modal>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'nzImageModal',\r\n\r\n  props: {\r\n    items: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    value: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      newValue: this.value,\r\n      active: false\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    openImage() {\r\n      return this.items[this.newValue]\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    newValue() {\r\n      this.$emit('input', this.newValue)\r\n    },\r\n\r\n    openImage: {\r\n      handler(value) {\r\n        this.active = Boolean(value)\r\n      }\r\n    }\r\n  },\r\n\r\n  created() {\r\n    document.addEventListener('keyup', this.registerKeyListener)\r\n  },\r\n\r\n  mounted() {\r\n    this.active = Boolean(this.openImage)\r\n  },\r\n\r\n  beforeDestroy() {\r\n    document.removeEventListener('keyup', this.registerKeyListener)\r\n  },\r\n\r\n  methods: {\r\n    next() {\r\n      let newValue = this.newValue + 1\r\n\r\n      if (newValue >= this.items.length) {\r\n        newValue = 0\r\n      }\r\n\r\n      this.newValue = newValue\r\n    },\r\n\r\n    prev() {\r\n      let newValue = this.newValue - 1\r\n\r\n      if (newValue < 0) {\r\n        newValue = this.items.length - 1\r\n      }\r\n\r\n      this.newValue = newValue\r\n    },\r\n\r\n    registerKeyListener(e) {\r\n      const key = e.which || e.keyCode\r\n\r\n      if (key === 37) { // left arrow\r\n        this.prev()\r\n      } else if (key === 39) { // right arrow\r\n        this.next()\r\n      }\r\n    },\r\n\r\n    onClose(e) {\r\n      this.active = false\r\n\r\n      // b-modal component adds classes that prevent scrolling on body when active\r\n      // so we need to wait for it to remove them before we signal it's closing\r\n      this.$nextTick(() => {\r\n        this.$emit('close', e)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./ImageModal.vue?vue&type=template&id=0d20be8b&\"\nimport script from \"./ImageModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"poaching-observation-form\",attrs:{\"action\":_vm.action,\"method\":\"POST\",\"lang\":_vm.locale}},[_c('div',{staticClass:\"columns is-desktop\"},[_c('div',{staticClass:\"column is-half-desktop\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-2\"},[_c('b-field',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.trans('labels.observations.id_tooltip')),expression:\"trans('labels.observations.id_tooltip')\"}],staticClass:\"is-required\",attrs:{\"label\":_vm.trans('labels.field_observations.taxon_id'),\"label-for\":\"taxon_id\",\"type\":_vm.form.errors.has('taxon_id') ? 'is-danger' : null,\"message\":_vm.form.errors.has('taxon_id') ? _vm.form.errors.first('taxon_id') : null}},[_c('b-input',{attrs:{\"id\":\"taxon_id\",\"type\":\"number\",\"disabled\":\"disabled\"},model:{value:(_vm.form.taxon_id),callback:function ($$v) {_vm.$set(_vm.form, \"taxon_id\", $$v)},expression:\"form.taxon_id\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('nz-taxon-autocomplete',{ref:\"taxonAutocomplete\",staticClass:\"is-required\",attrs:{\"taxon\":_vm.observation.taxon,\"error\":_vm.form.errors.has('taxon_id'),\"message\":_vm.form.errors.has('taxon_id') ? _vm.form.errors.first('taxon_id') : null,\"autofocus\":\"\",\"label\":_vm.trans('labels.field_observations.taxon'),\"placeholder\":_vm.trans('labels.field_observations.search_for_taxon')},on:{\"select\":_vm.onTaxonSelect},model:{value:(_vm.form.taxon_suggestion),callback:function ($$v) {_vm.$set(_vm.form, \"taxon_suggestion\", $$v)},expression:\"form.taxon_suggestion\"}})],1)]),_vm._v(\" \"),_c('nz-date-input',{attrs:{\"year\":_vm.form.year,\"month\":_vm.form.month,\"day\":_vm.form.day,\"errors\":_vm.form.errors,\"label\":_vm.trans('labels.field_observations.date'),\"placeholders\":{\n            year: _vm.trans('labels.field_observations.year'),\n            month: _vm.trans('labels.field_observations.month'),\n            day: _vm.trans('labels.field_observations.day')\n        }},on:{\"update:year\":function($event){return _vm.$set(_vm.form, \"year\", $event)},\"update:month\":function($event){return _vm.$set(_vm.form, \"month\", $event)},\"update:day\":function($event){return _vm.$set(_vm.form, \"day\", $event)}}}),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.photos')}},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-one-third\"},[_c('nz-photo-upload',{ref:\"photoUpload-1\",attrs:{\"image-url\":_vm.getObservationPhotoAttribute(0, 'url'),\"image-path\":_vm.getObservationPhotoAttribute(0, 'path'),\"image-license\":_vm.getObservationPhotoAttribute(0, 'license'),\"licenses\":_vm.licenses,\"text\":_vm.trans('labels.field_observations.upload'),\"errors\":_vm.form.errors},on:{\"uploaded\":_vm.onPhotoUploaded,\"removed\":_vm.onPhotoRemoved,\"cropped\":_vm.onPhotoCropped,\"license-changed\":function($event){return _vm.onLicenseChanged(0, $event)}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"column is-one-third\"},[_c('nz-photo-upload',{ref:\"photoUpload-2\",attrs:{\"image-url\":_vm.getObservationPhotoAttribute(1, 'url'),\"image-path\":_vm.getObservationPhotoAttribute(1, 'path'),\"image-license\":_vm.getObservationPhotoAttribute(1, 'license'),\"licenses\":_vm.licenses,\"text\":_vm.trans('labels.field_observations.upload'),\"errors\":_vm.form.errors},on:{\"uploaded\":_vm.onPhotoUploaded,\"removed\":_vm.onPhotoRemoved,\"cropped\":_vm.onPhotoCropped,\"license-changed\":function($event){return _vm.onLicenseChanged(1, $event)}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"column is-one-third\"},[_c('nz-photo-upload',{ref:\"photoUpload-3\",attrs:{\"image-url\":_vm.getObservationPhotoAttribute(2, 'url'),\"image-path\":_vm.getObservationPhotoAttribute(2, 'path'),\"image-license\":_vm.getObservationPhotoAttribute(2, 'license'),\"licenses\":_vm.licenses,\"text\":_vm.trans('labels.field_observations.upload'),\"errors\":_vm.form.errors},on:{\"uploaded\":_vm.onPhotoUploaded,\"removed\":_vm.onPhotoRemoved,\"cropped\":_vm.onPhotoCropped,\"license-changed\":function($event){return _vm.onLicenseChanged(2, $event)}}})],1)])])],1),_vm._v(\" \"),_c('div',{staticClass:\"column is-half-desktop\"},[_c('nz-spatial-input',{attrs:{\"latitude\":_vm.form.latitude,\"longitude\":_vm.form.longitude,\"location\":_vm.form.location,\"accuracy\":_vm.form.accuracy,\"elevation\":_vm.form.elevation,\"errors\":_vm.form.errors},on:{\"update:latitude\":function($event){return _vm.$set(_vm.form, \"latitude\", $event)},\"update:longitude\":function($event){return _vm.$set(_vm.form, \"longitude\", $event)},\"update:location\":function($event){return _vm.$set(_vm.form, \"location\", $event)},\"update:accuracy\":function($event){return _vm.$set(_vm.form, \"accuracy\", $event)},\"update:elevation\":function($event){return _vm.$set(_vm.form, \"elevation\", $event)}}})],1)]),_vm._v(\" \"),_c('button',{staticClass:\"button is-text\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showMoreDetails = !_vm.showMoreDetails}}},[_vm._v(\"\\n    \"+_vm._s(_vm.showMoreDetails ? _vm.trans('labels.field_observations.less_details') : _vm.trans('labels.field_observations.more_details'))+\"\\n  \")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showMoreDetails),expression:\"showMoreDetails\"}],staticClass:\"mt-4\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.stage'),\"label-for\":\"stage\",\"type\":_vm.form.errors.has('stage_id') ? 'is-danger' : null,\"message\":_vm.form.errors.has('stage_id') ? _vm.form.errors.first('stage_id') : null}},[_c('b-select',{attrs:{\"id\":\"stage\",\"disabled\":!_vm.stages.length,\"expanded\":\"\"},on:{\"input\":function($event){_vm.lastStageId = $event}},model:{value:(_vm.form.stage_id),callback:function ($$v) {_vm.$set(_vm.form, \"stage_id\", $$v)},expression:\"form.stage_id\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.choose_a_stage')))]),_vm._v(\" \"),_vm._l((_vm.stages),function(stage){return _c('option',{key:stage.id,domProps:{\"value\":stage.id,\"textContent\":_vm._s(_vm.trans((\"stages.\" + (stage.name))))}})})],2)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.sex'),\"type\":_vm.form.errors.has('sex') ? 'is-danger' : null,\"message\":_vm.form.errors.has('sex') ? _vm.form.errors.first('sex') : null}},[_c('b-select',{attrs:{\"expanded\":\"\"},model:{value:(_vm.form.sex),callback:function ($$v) {_vm.$set(_vm.form, \"sex\", $$v)},expression:\"form.sex\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.choose_a_value')))]),_vm._v(\" \"),_vm._l((_vm.sexes),function(label,sex){return _c('option',{key:sex,domProps:{\"value\":sex,\"textContent\":_vm._s(label)}})})],2)],1)],1)]),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.types'),\"error\":_vm.form.errors.has('observation_types_ids'),\"message\":_vm.form.errors.has('observation_types_ids') ? _vm.form.errors.first('observation_types_ids') : null}},[_c('b-taginput',{attrs:{\"data\":_vm.availableObservationTypes,\"autocomplete\":\"\",\"allowNew\":false,\"field\":\"name\",\"icon\":\"tag\",\"placeholder\":_vm.trans('labels.field_observations.types_placeholder'),\"open-on-focus\":\"\"},on:{\"typing\":_vm.onTypeTyping},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"delete\",[8,46],$event.key,[\"Backspace\",\"Delete\",\"Del\"])){ return null; }return _vm.onTypeBackspace($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('span',[_vm._v(_vm._s(props.option.name))])]}}]),model:{value:(_vm.selectedObservationTypes),callback:function ($$v) {_vm.selectedObservationTypes=$$v},expression:\"selectedObservationTypes\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.observations.atlas_code'),\"label-for\":\"atlas-code\",\"type\":_vm.form.errors.has('atlas_code') ? 'is-danger' : null,\"message\":_vm.form.errors.has('atlas_code') ? _vm.form.errors.first('atlas_code') : null}},[_c('b-select',{attrs:{\"id\":\"atlas-code\",\"expanded\":\"\"},model:{value:(_vm.form.atlas_code),callback:function ($$v) {_vm.$set(_vm.form, \"atlas_code\", $$v)},expression:\"form.atlas_code\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.choose_a_value')))]),_vm._v(\" \"),_vm._l((_vm.atlasCodes),function(atlasCode){return _c('option',{key:atlasCode.code,domProps:{\"value\":atlasCode.code,\"textContent\":_vm._s(atlasCode.name)}})})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.observations.data_provider'),\"label-for\":\"data_provider\",\"error\":_vm.form.errors.has('data_provider'),\"message\":_vm.form.errors.has('data_provider') ? _vm.form.errors.first('data_provider') : null}},[_c('b-input',{attrs:{\"id\":\"data_provider\",\"name\":\"data_provider\"},model:{value:(_vm.form.data_provider),callback:function ($$v) {_vm.$set(_vm.form, \"data_provider\", $$v)},expression:\"form.data_provider\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.observations.data_limit'),\"label-for\":\"data_limit\",\"error\":_vm.form.errors.has('data_limit'),\"message\":_vm.form.errors.has('data_limit') ? _vm.form.errors.first('data_limit') : null}},[_c('b-input',{attrs:{\"id\":\"data_limit\",\"name\":\"data_limit\"},model:{value:(_vm.form.data_limit),callback:function ($$v) {_vm.$set(_vm.form, \"data_limit\", $$v)},expression:\"form.data_limit\"}})],1)],1)]),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.note'),\"label-for\":\"note\",\"error\":_vm.form.errors.has('note'),\"message\":_vm.form.errors.has('note') ? _vm.form.errors.first('note') : null}},[_c('b-input',{attrs:{\"id\":\"note\",\"type\":\"textarea\"},model:{value:(_vm.form.note),callback:function ($$v) {_vm.$set(_vm.form, \"note\", $$v)},expression:\"form.note\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.habitat'),\"label-for\":\"habitat\",\"error\":_vm.form.errors.has('habitat'),\"message\":_vm.form.errors.has('habitat') ? _vm.form.errors.first('habitat') : null}},[_c('b-input',{attrs:{\"id\":\"habitat\",\"name\":\"habitat\"},model:{value:(_vm.form.habitat),callback:function ($$v) {_vm.$set(_vm.form, \"habitat\", $$v)},expression:\"form.habitat\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.description'),\"label-for\":\"description\",\"error\":_vm.form.errors.has('description'),\"message\":_vm.form.errors.has('description') ? _vm.form.errors.first('description') : null}},[_c('b-input',{attrs:{\"id\":\"description\",\"type\":\"textarea\"},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}})],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.comment'),\"label-for\":\"comment\",\"error\":_vm.form.errors.has('comment'),\"message\":_vm.form.errors.has('comment') ? _vm.form.errors.first('comment') : null}},[_c('b-input',{attrs:{\"id\":\"comment\",\"type\":\"textarea\"},model:{value:(_vm.form.comment),callback:function ($$v) {_vm.$set(_vm.form, \"comment\", $$v)},expression:\"form.comment\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.literature_observations.project'),\"type\":_vm.form.errors.has('project') ? 'is-danger' : null,\"message\":_vm.form.errors.has('project') ? _vm.form.errors.first('project') : null}},[_c('label',{staticClass:\"label\",attrs:{\"slot\":\"label\",\"for\":\"project\"},slot:\"label\"},[_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.literature_observations.project_tooltip')}),expression:\"{content: trans('labels.literature_observations.project_tooltip')}\"}],staticClass:\"is-dashed\"},[_vm._v(\"\\n              \"+_vm._s(_vm.trans('labels.literature_observations.project'))+\"\\n            \")])]),_vm._v(\" \"),_c('b-input',{attrs:{\"id\":\"project\",\"name\":\"project\"},model:{value:(_vm.form.project),callback:function ($$v) {_vm.$set(_vm.form, \"project\", $$v)},expression:\"form.project\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.dataset'),\"label-for\":\"dataset\",\"type\":_vm.form.errors.has('dataset') ? 'is-danger' : null,\"message\":_vm.form.errors.has('dataset') ? _vm.form.errors.first('dataset') : null}},[_c('b-input',{attrs:{\"id\":\"dataset\",\"name\":\"dataset\"},model:{value:(_vm.form.dataset),callback:function ($$v) {_vm.$set(_vm.form, \"dataset\", $$v)},expression:\"form.dataset\"}})],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.number'),\"label-for\":\"number\",\"type\":_vm.form.errors.has('number') ? 'is-danger' : null,\"message\":_vm.form.errors.has('number') ? _vm.form.errors.first('number') : null}},[_c('b-input',{attrs:{\"id\":\"number\",\"type\":\"number\"},model:{value:(_vm.form.number),callback:function ($$v) {_vm.$set(_vm.form, \"number\", $$v)},expression:\"form.number\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.number_of'),\"label-for\":\"number_of\",\"type\":_vm.form.errors.has('number_of') ? 'is-danger' : null,\"message\":_vm.form.errors.has('number_of') ? _vm.form.errors.first('number_of') : null}},[_c('b-select',{attrs:{\"expanded\":\"\"},model:{value:(_vm.form.number_of),callback:function ($$v) {_vm.$set(_vm.form, \"number_of\", $$v)},expression:\"form.number_of\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.choose_a_value')))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"individual\"}},[_vm._v(_vm._s(_vm.trans('labels.number_of.individual')))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"couple\"}},[_vm._v(_vm._s(_vm.trans('labels.number_of.couple')))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"singing_male\"}},[_vm._v(_vm._s(_vm.trans('labels.number_of.singing_male')))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"active_nest\"}},[_vm._v(_vm._s(_vm.trans('labels.number_of.active_nest')))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"family_with_cubs\"}},[_vm._v(_vm._s(_vm.trans('labels.number_of.family_with_cubs')))])])],1)],1)]),_vm._v(\" \"),_c('b-checkbox',{model:{value:(_vm.form.found_dead),callback:function ($$v) {_vm.$set(_vm.form, \"found_dead\", $$v)},expression:\"form.found_dead\"}},[_vm._v(_vm._s(_vm.trans('labels.observations.found_dead')))]),_vm._v(\" \"),(_vm.form.found_dead)?_c('b-field',{attrs:{\"label\":_vm.trans('labels.observations.found_dead_note'),\"label-for\":\"found_dead_note\",\"error\":_vm.form.errors.has('found_dead_note'),\"message\":_vm.form.errors.has('found_dead_note') ? _vm.form.errors.first('found_dead_note') : null}},[_c('b-input',{attrs:{\"id\":\"found_dead_note\",\"type\":\"textarea\"},model:{value:(_vm.form.found_dead_note),callback:function ($$v) {_vm.$set(_vm.form, \"found_dead_note\", $$v)},expression:\"form.found_dead_note\"}})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.dead_from_total'),\"label-for\":\"dead_from_total\",\"type\":_vm.form.errors.has('dead_from_total') ? 'is-danger' : null,\"message\":_vm.form.errors.has('dead_from_total') ? _vm.form.errors.first('dead_from_total') : null}},[_c('b-input',{attrs:{\"id\":\"dead_from_total\",\"name\":\"dead_from_total\",\"type\":\"number\"},model:{value:(_vm.form.dead_from_total),callback:function ($$v) {_vm.$set(_vm.form, \"dead_from_total\", $$v)},expression:\"form.dead_from_total\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.alive_from_total'),\"label-for\":\"alive_from_total\",\"type\":_vm.form.errors.has('alive_from_total') ? 'is-danger' : null,\"message\":_vm.form.errors.has('alive_from_total') ? _vm.form.errors.first('alive_from_total') : null}},[_c('b-input',{attrs:{\"id\":\"alive_from_total\",\"name\":\"alive_from_total\",\"type\":\"number\"},model:{value:(_vm.form.alive_from_total),callback:function ($$v) {_vm.$set(_vm.form, \"alive_from_total\", $$v)},expression:\"form.alive_from_total\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.exact_number')}},[_c('b-switch',{model:{value:(_vm.form.exact_number),callback:function ($$v) {_vm.$set(_vm.form, \"exact_number\", $$v)},expression:\"form.exact_number\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.form.exact_number ? _vm.trans(\"Yes\") : _vm.trans(\"No\"))+\"\\n          \")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.indigenous')}},[_c('b-switch',{model:{value:(_vm.form.indigenous),callback:function ($$v) {_vm.$set(_vm.form, \"indigenous\", $$v)},expression:\"form.indigenous\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.form.indigenous ? _vm.trans(\"Yes\") : _vm.trans(\"No\"))+\"\\n          \")])],1)],1)]),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.offences')}},[_c('div',{staticClass:\"block\"},_vm._l((_vm.offences),function(offence){return _c('b-checkbox',{key:offence.id,attrs:{\"native-value\":offence.id},model:{value:(_vm.form.offences_ids),callback:function ($$v) {_vm.$set(_vm.form, \"offences_ids\", $$v)},expression:\"form.offences_ids\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.trans('labels.offence_cases.' + offence.name))+\"\\n        \")])}),1)]),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.place'),\"label-for\":\"place\",\"type\":_vm.form.errors.has('place') ? 'is-danger' : null,\"message\":_vm.form.errors.has('place') ? _vm.form.errors.first('place') : null}},[_c('b-input',{attrs:{\"id\":\"place\",\"name\":\"place\"},model:{value:(_vm.form.place),callback:function ($$v) {_vm.$set(_vm.form, \"place\", $$v)},expression:\"form.place\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.municipality'),\"label-for\":\"municipality\",\"type\":_vm.form.errors.has('municipality') ? 'is-danger' : null,\"message\":_vm.form.errors.has('municipality') ? _vm.form.errors.first('municipality') : null}},[_c('b-input',{attrs:{\"id\":\"municipality\",\"name\":\"municipality\"},model:{value:(_vm.form.municipality),callback:function ($$v) {_vm.$set(_vm.form, \"municipality\", $$v)},expression:\"form.municipality\"}})],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.data_id'),\"label-for\":\"data_id\",\"type\":_vm.form.errors.has('data_id') ? 'is-danger' : null,\"message\":_vm.form.errors.has('data_id') ? _vm.form.errors.first('data_id') : null}},[_c('b-input',{attrs:{\"id\":\"data_id\",\"name\":\"data_id\"},model:{value:(_vm.form.data_id),callback:function ($$v) {_vm.$set(_vm.form, \"data_id\", $$v)},expression:\"form.data_id\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.folder_id'),\"label-for\":\"municipality\",\"type\":_vm.form.errors.has('folder_id') ? 'is-danger' : null,\"message\":_vm.form.errors.has('folder_id') ? _vm.form.errors.first('folder_id') : null}},[_c('b-input',{attrs:{\"id\":\"folder_id\",\"name\":\"folder_id\"},model:{value:(_vm.form.folder_id),callback:function ($$v) {_vm.$set(_vm.form, \"folder_id\", $$v)},expression:\"form.folder_id\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.file'),\"label-for\":\"file\",\"type\":_vm.form.errors.has('file') ? 'is-danger' : null,\"message\":_vm.form.errors.has('file') ? _vm.form.errors.first('file') : null}},[_c('b-input',{attrs:{\"id\":\"file\",\"name\":\"file\"},model:{value:(_vm.form.file),callback:function ($$v) {_vm.$set(_vm.form, \"file\", $$v)},expression:\"form.file\"}})],1)],1)]),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.in_report')}},[_c('b-switch',{model:{value:(_vm.form.in_report),callback:function ($$v) {_vm.$set(_vm.form, \"in_report\", $$v)},expression:\"form.in_report\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.form.in_report ? _vm.trans(\"Yes\") : _vm.trans(\"No\"))+\"\\n      \")])],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.offence_details'),\"label-for\":\"offence_details\",\"error\":_vm.form.errors.has('offence_details'),\"message\":_vm.form.errors.has('offence_details') ? _vm.form.errors.first('offence_details') : null}},[_c('b-input',{attrs:{\"id\":\"offence_details\",\"type\":\"textarea\"},model:{value:(_vm.form.offence_details),callback:function ($$v) {_vm.$set(_vm.form, \"offence_details\", $$v)},expression:\"form.offence_details\"}})],1),_vm._v(\" \"),_c('b-checkbox',{model:{value:(_vm.form.case_reported),callback:function ($$v) {_vm.$set(_vm.form, \"case_reported\", $$v)},expression:\"form.case_reported\"}},[_vm._v(_vm._s(_vm.trans('labels.poaching_observations.case_reported')))]),_vm._v(\" \"),(_vm.form.case_reported)?_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.case_reported_by'),\"label-for\":\"case_reported_by\",\"type\":_vm.form.errors.has('case_reported_by') ? 'is-danger' : null,\"message\":_vm.form.errors.has('case_reported_by') ? _vm.form.errors.first('case_reported_by') : null}},[_c('b-input',{attrs:{\"id\":\"case_reported_by\",\"name\":\"case_reported_by\"},model:{value:(_vm.form.case_reported_by),callback:function ($$v) {_vm.$set(_vm.form, \"case_reported_by\", $$v)},expression:\"form.case_reported_by\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.verdict'),\"label-for\":\"verdict\",\"type\":_vm.form.errors.has('verdict') ? 'is-danger' : null,\"message\":_vm.form.errors.has('verdict') ? _vm.form.errors.first('verdict') : null}},[_c('b-select',{attrs:{\"expanded\":\"\"},model:{value:(_vm.form.verdict),callback:function ($$v) {_vm.$set(_vm.form, \"verdict\", $$v)},expression:\"form.verdict\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.choose_a_value')))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"yes\"}},[_vm._v(_vm._s(_vm.trans(\"Yes\")))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"no\"}},[_vm._v(_vm._s(_vm.trans(\"No\")))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"rejected\"}},[_vm._v(_vm._s(_vm.trans(\"labels.poaching_observations.rejected\")))])])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.verdict_date')}},[_c('b-datepicker',{attrs:{\"locale\":_vm.locale,\"placeholder\":_vm.trans('labels.poaching_observations.select_date'),\"icon\":\"calendar-today\",\"trap-focus\":\"\"},model:{value:(_vm.form.verdict_date),callback:function ($$v) {_vm.$set(_vm.form, \"verdict_date\", $$v)},expression:\"form.verdict_date\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.proceeding'),\"label-for\":\"proceeding\",\"type\":_vm.form.errors.has('proceeding') ? 'is-danger' : null,\"message\":_vm.form.errors.has('proceeding') ? _vm.form.errors.first('proceeding') : null}},[_c('b-select',{attrs:{\"expanded\":\"\"},model:{value:(_vm.form.proceeding),callback:function ($$v) {_vm.$set(_vm.form, \"proceeding\", $$v)},expression:\"form.proceeding\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.choose_a_value')))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"misdemeanor\"}},[_vm._v(_vm._s(_vm.trans(\"labels.proceedings.misdemeanor\")))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"criminal\"}},[_vm._v(_vm._s(_vm.trans(\"labels.proceedings.criminal\")))])])],1)],1)]):_vm._e(),_vm._v(\" \"),(_vm.form.case_reported)?_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.sanction_rsd'),\"label-for\":\"sanction_rsd\",\"type\":_vm.form.errors.has('sanction_rsd') ? 'is-danger' : null,\"message\":_vm.form.errors.has('sanction_rsd') ? _vm.form.errors.first('sanction_rsd') : null}},[_c('b-input',{attrs:{\"id\":\"sanction_rsd\",\"name\":\"sanction_rsd\",\"type\":\"int\"},model:{value:(_vm.form.sanction_rsd),callback:function ($$v) {_vm.$set(_vm.form, \"sanction_rsd\", $$v)},expression:\"form.sanction_rsd\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.sanction_eur'),\"label-for\":\"sanction_eur\",\"type\":_vm.form.errors.has('sanction_eur') ? 'is-danger' : null,\"message\":_vm.form.errors.has('sanction_eur') ? _vm.form.errors.first('sanction_eur') : null}},[_c('b-input',{attrs:{\"id\":\"sanction_eur\",\"name\":\"sanction_eur\",\"type\":\"int\"},model:{value:(_vm.form.sanction_eur),callback:function ($$v) {_vm.$set(_vm.form, \"sanction_eur\", $$v)},expression:\"form.sanction_eur\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.community_sentence'),\"label-for\":\"community_sentence\",\"type\":_vm.form.errors.has('community_sentence') ? 'is-danger' : null,\"message\":_vm.form.errors.has('community_sentence') ? _vm.form.errors.first('community_sentence') : null}},[_c('b-input',{attrs:{\"id\":\"community_sentence\",\"name\":\"community_sentence\",\"type\":\"int\"},model:{value:(_vm.form.community_sentence),callback:function ($$v) {_vm.$set(_vm.form, \"community_sentence\", $$v)},expression:\"form.community_sentence\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.opportunity')}},[_c('b-switch',{model:{value:(_vm.form.opportunity),callback:function ($$v) {_vm.$set(_vm.form, \"opportunity\", $$v)},expression:\"form.opportunity\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.form.opportunity ? _vm.trans(\"Yes\") : _vm.trans(\"No\"))+\"\\n          \")])],1)],1)]):_vm._e(),_vm._v(\" \"),(_vm.form.case_reported)?_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.annotation'),\"label-for\":\"annotation\",\"error\":_vm.form.errors.has('annotation'),\"message\":_vm.form.errors.has('annotation') ? _vm.form.errors.first('annotation') : null}},[_c('b-input',{attrs:{\"id\":\"annotation\",\"type\":\"textarea\"},model:{value:(_vm.form.annotation),callback:function ($$v) {_vm.$set(_vm.form, \"annotation\", $$v)},expression:\"form.annotation\"}})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.suspect_name'),\"label-for\":\"suspect_name\",\"type\":_vm.form.errors.has('suspect_name') ? 'is-danger' : null,\"message\":_vm.form.errors.has('suspect_name') ? _vm.form.errors.first('suspect_name') : null}},[_c('b-input',{attrs:{\"id\":\"suspect_name\",\"name\":\"suspect_name\"},model:{value:(_vm.form.suspect_name),callback:function ($$v) {_vm.$set(_vm.form, \"suspect_name\", $$v)},expression:\"form.suspect_name\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.suspect_place'),\"label-for\":\"suspect_place\",\"type\":_vm.form.errors.has('suspect_place') ? 'is-danger' : null,\"message\":_vm.form.errors.has('suspect_place') ? _vm.form.errors.first('suspect_place') : null}},[_c('b-input',{attrs:{\"id\":\"suspect_place\",\"name\":\"suspect_place\"},model:{value:(_vm.form.suspect_place),callback:function ($$v) {_vm.$set(_vm.form, \"suspect_place\", $$v)},expression:\"form.suspect_place\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.suspect_profile'),\"label-for\":\"suspect_profile\",\"type\":_vm.form.errors.has('suspect_profile') ? 'is-danger' : null,\"message\":_vm.form.errors.has('suspect_profile') ? _vm.form.errors.first('suspect_profile') : null}},[_c('b-input',{attrs:{\"id\":\"suspect_profile\",\"name\":\"suspect_profile\"},model:{value:(_vm.form.suspect_profile),callback:function ($$v) {_vm.$set(_vm.form, \"suspect_profile\", $$v)},expression:\"form.suspect_profile\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.suspects_number'),\"label-for\":\"suspects_number\",\"type\":_vm.form.errors.has('suspects_number') ? 'is-danger' : null,\"message\":_vm.form.errors.has('suspects_number') ? _vm.form.errors.first('suspects_number') : null}},[_c('b-input',{attrs:{\"id\":\"suspects_number\",\"name\":\"suspects_number\",\"type\":\"number\"},model:{value:(_vm.form.suspects_number),callback:function ($$v) {_vm.$set(_vm.form, \"suspects_number\", $$v)},expression:\"form.suspects_number\"}})],1)],1)]),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.cites'),\"label-for\":\"cites\",\"type\":_vm.form.errors.has('cites') ? 'is-danger' : null,\"message\":_vm.form.errors.has('cites') ? _vm.form.errors.first('cites') : null}},[_c('b-select',{attrs:{\"expanded\":\"\"},model:{value:(_vm.form.cites),callback:function ($$v) {_vm.$set(_vm.form, \"cites\", $$v)},expression:\"form.cites\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.choose_a_value')))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"1\"}},[_vm._v(_vm._s(_vm.trans(\"labels.cites.appendix_I\")))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"2\"}},[_vm._v(_vm._s(_vm.trans(\"labels.cites.appendix_II\")))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"3\"}},[_vm._v(_vm._s(_vm.trans(\"labels.cites.appendix_III\")))])])],1),_vm._v(\" \"),_c('b-field',{attrs:{\"label\":_vm.trans('labels.poaching_observations.origin_of_individuals'),\"label-for\":\"origin_of_individuals\",\"type\":_vm.form.errors.has('origin_of_individuals') ? 'is-danger' : null,\"message\":_vm.form.errors.has('origin_of_individuals') ? _vm.form.errors.first('origin_of_individuals') : null}},[_c('b-input',{attrs:{\"id\":\"origin_of_individuals\",\"name\":\"origin_of_individuals\",\"type\":\"number\"},model:{value:(_vm.form.origin_of_individuals),callback:function ($$v) {_vm.$set(_vm.form, \"origin_of_individuals\", $$v)},expression:\"form.origin_of_individuals\"}})],1),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',[_c('b',[_vm._v(_vm._s(_vm.trans('labels.poaching_observations.sources')))])]),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b',[_vm._v(_vm._s(_vm.trans('labels.poaching_observations.source')))])]),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b',[_vm._v(_vm._s(_vm.trans('labels.poaching_observations.source_description')))])]),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('b',[_vm._v(_vm._s(_vm.trans('labels.poaching_observations.source_link')))])]),_vm._v(\" \"),_c('div',{staticClass:\"column\"})]),_vm._v(\" \"),_vm._l((_vm.sources),function(source,index){return _c('div',{key:index,staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.trans('labels.poaching_observations.' + source.name)))]),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_vm._v(_vm._s(source.description))]),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_vm._v(_vm._s(source.link))]),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.poaching_observations.remove_source_tooltip')}),expression:\"{content: trans('labels.poaching_observations.remove_source_tooltip')}\"}],staticClass:\"delete\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeSource(index)}}})])])}),_vm._v(\" \"),_vm._l((_vm.poachingSources),function(source,index){return _c('div',{key:index,staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_vm._v(_vm._s(_vm.trans('labels.poaching_observations.' + source.name)))]),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_vm._v(_vm._s(source.description))]),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_vm._v(_vm._s(source.link))]),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.poaching_observations.remove_source_tooltip')}),expression:\"{content: trans('labels.poaching_observations.remove_source_tooltip')}\"}],staticClass:\"delete\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeSource(index)}}})])])}),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-select',{attrs:{\"expanded\":\"\"},model:{value:(_vm.form.source),callback:function ($$v) {_vm.$set(_vm.form, \"source\", $$v)},expression:\"form.source\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.choose_a_value')))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"social_media\"}},[_vm._v(_vm._s(_vm.trans(\"labels.poaching_observations.social_media\")))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"media\"}},[_vm._v(_vm._s(_vm.trans(\"labels.poaching_observations.media\")))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"ads\"}},[_vm._v(_vm._s(_vm.trans(\"labels.poaching_observations.ads\")))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"institutions\"}},[_vm._v(_vm._s(_vm.trans(\"labels.poaching_observations.institutions\")))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"associates\"}},[_vm._v(_vm._s(_vm.trans(\"labels.poaching_observations.associates\")))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[(_vm.form.source)?_c('b-input',{ref:\"sourceDescription\",attrs:{\"id\":\"sourceDescription\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.$refs.sourceLink.focus($event)}},model:{value:(_vm.sourceDescription),callback:function ($$v) {_vm.sourceDescription=$$v},expression:\"sourceDescription\"}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[(_vm.form.source)?_c('b-input',{ref:\"sourceLink\",attrs:{\"id\":\"sourceLink\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.addSource($event)}},model:{value:(_vm.sourceLink),callback:function ($$v) {_vm.sourceLink=$$v},expression:\"sourceLink\"}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[(_vm.form.source)?_c('button',{staticClass:\"button is-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addSource}},[_vm._v(\"\\n          \"+_vm._s(_vm.trans(\"labels.poaching_observations.add_source\"))+\"\\n        \")]):_vm._e()])]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',[_c('b',[_vm._v(_vm._s(_vm.trans('labels.observations.observers')))])]),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-2\"},[_c('b',[_vm._v(_vm._s(_vm.trans('labels.observations.firstName')))])]),_vm._v(\" \"),_c('div',{staticClass:\"column is-2\"},[_c('b',[_vm._v(_vm._s(_vm.trans('labels.observations.lastName')))])]),_vm._v(\" \"),_c('div',{staticClass:\"column is-1\"})]),_vm._v(\" \"),_vm._l((_vm.observers),function(observer,index){return _c('div',{key:index,staticClass:\"columns\"},[_c('div',{staticClass:\"column is-2\"},[_vm._v(_vm._s(observer.firstName))]),_vm._v(\" \"),_c('div',{staticClass:\"column is-2\"},[_vm._v(_vm._s(observer.lastName))]),_vm._v(\" \"),_c('div',{staticClass:\"column is-1\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.observations.remove_observer_tooltip')}),expression:\"{content: trans('labels.observations.remove_observer_tooltip')}\"}],staticClass:\"delete\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeObserver(index)}}})])])}),_vm._v(\" \"),_vm._l((_vm.fieldObservers),function(observer,index){return _c('div',{key:index,staticClass:\"columns\"},[_c('div',{staticClass:\"column is-2\"},[_vm._v(_vm._s(observer.firstName))]),_vm._v(\" \"),_c('div',{staticClass:\"column is-2\"},[_vm._v(_vm._s(observer.lastName))]),_vm._v(\" \"),_c('div',{staticClass:\"column is-1\"},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.observations.remove_observer_tooltip')}),expression:\"{content: trans('labels.observations.remove_observer_tooltip')}\"}],staticClass:\"delete\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeObserver(index)}}})])])}),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-2\"},[_c('b-field',{attrs:{\"type\":_vm.observerErrors.observerFirstName ? 'is-danger' : null,\"message\":_vm.observerErrors.observerFirstName ? _vm.observerErrors.observerFirstName : null}},[_c('b-input',{attrs:{\"id\":\"observerFirstName\",\"maxlength\":\"50\",\"placeholder\":_vm.trans('labels.observations.insert_first_name')},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.$refs.observerLastName.focus($event)}},model:{value:(_vm.observerFirstName),callback:function ($$v) {_vm.observerFirstName=$$v},expression:\"observerFirstName\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column is-2\"},[_c('b-field',{attrs:{\"type\":_vm.observerErrors.observerLastName ? 'is-danger' : null,\"message\":_vm.observerErrors.observerLastName ? _vm.observerErrors.observerLastName : null}},[_c('b-input',{ref:\"observerLastName\",attrs:{\"id\":\"observerLastName\",\"maxlength\":\"50\",\"placeholder\":_vm.trans('labels.observations.insert_last_name')},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.addObserver($event)}},model:{value:(_vm.observerLastName),callback:function ($$v) {_vm.observerLastName=$$v},expression:\"observerLastName\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"column is-1\"},[_c('button',{staticClass:\"button is-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addObserver}},[_vm._v(\"\\n          \"+_vm._s(_vm.trans('labels.observations.add_observer'))+\"\\n        \")])])]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),(_vm.showObserverIdentifier)?[_c('nz-user-autocomplete',{attrs:{\"error\":_vm.form.errors.has('identifier'),\"message\":_vm.form.errors.has('identifier') ? _vm.form.errors.first('identifier') : null,\"user\":_vm.form.identified_by,\"label\":_vm.trans('labels.field_observations.identifier'),\"disabled\":!_vm.isIdentified},on:{\"select\":_vm.onIdentifierSelect},model:{value:(_vm.form.identifier),callback:function ($$v) {_vm.$set(_vm.form, \"identifier\", $$v)},expression:\"form.identifier\"}})]:_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('b-field',{attrs:{\"label\":_vm.trans('labels.field_observations.data_license'),\"label-for\":\"data_license\",\"type\":_vm.form.errors.has('data_license') ? 'is-danger' : null,\"message\":_vm.form.errors.has('data_license') ? _vm.form.errors.first('data_license') : null}},[_c('b-select',{attrs:{\"id\":\"data_license\",\"expanded\":\"\"},model:{value:(_vm.form.data_license),callback:function ($$v) {_vm.$set(_vm.form, \"data_license\", $$v)},expression:\"form.data_license\"}},[_c('option',{domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.trans('labels.field_observations.default')))]),_vm._v(\" \"),_vm._l((_vm.licenses),function(label,value){return _c('option',{key:value,domProps:{\"value\":value,\"textContent\":_vm._s(label)}})})],2)],1)],1)]),_vm._v(\" \"),_c('hr')],2),_vm._v(\" \"),_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.field_observations.save_tooltip')}),expression:\"{content: trans('labels.field_observations.save_tooltip')}\"}],staticClass:\"button is-primary\",class:{\n        'is-loading': _vm.submittingWithRedirect\n    },attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitWithRedirect($event)}}},[_vm._v(\"\\n    \"+_vm._s(_vm.trans('buttons.save'))+\"\\n  \")]),_vm._v(\" \"),(_vm.submitMore)?_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.trans('labels.field_observations.save_more_tooltip')}),expression:\"{content: trans('labels.field_observations.save_more_tooltip')}\"}],staticClass:\"button is-primary\",class:{\n        'is-outlined': !_vm.submittingWithoutRedirect,\n        'is-loading': _vm.submittingWithoutRedirect\n    },attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitWithoutRedirect($event)}}},[_vm._v(\"\\n    \"+_vm._s(_vm.trans('buttons.save_more'))+\"\\n  \")]):_vm._e(),_vm._v(\" \"),_c('a',{staticClass:\"button is-text\",attrs:{\"href\":_vm.cancelUrl},on:{\"click\":_vm.onCancel}},[_vm._v(_vm._s(_vm.trans('buttons.cancel')))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <form :action=\"action\" method=\"POST\" :lang=\"locale\" class=\"poaching-observation-form\">\r\n    <div class=\"columns is-desktop\">\r\n      <div class=\"column is-half-desktop\">\r\n        <div class=\"columns\">\r\n          <div class=\"column is-2\">\r\n            <b-field\r\n              :label=\"trans('labels.field_observations.taxon_id')\"\r\n              label-for=\"taxon_id\"\r\n              :type=\"form.errors.has('taxon_id') ? 'is-danger' : null\"\r\n              :message=\"form.errors.has('taxon_id') ? form.errors.first('taxon_id') : null\"\r\n              class=\"is-required\"\r\n              v-tooltip=\"trans('labels.observations.id_tooltip')\"\r\n\r\n            >\r\n              <b-input id=\"taxon_id\" type=\"number\" v-model=\"form.taxon_id\" disabled=\"disabled\"/>\r\n            </b-field>\r\n          </div>\r\n          <div class=\"column\">\r\n            <nz-taxon-autocomplete\r\n              v-model=\"form.taxon_suggestion\"\r\n              @select=\"onTaxonSelect\"\r\n              :taxon=\"observation.taxon\"\r\n              :error=\"form.errors.has('taxon_id')\"\r\n              :message=\"form.errors.has('taxon_id') ? form.errors.first('taxon_id') : null\"\r\n              autofocus\r\n              ref=\"taxonAutocomplete\"\r\n              :label=\"trans('labels.field_observations.taxon')\"\r\n              :placeholder=\"trans('labels.field_observations.search_for_taxon')\"\r\n              class=\"is-required\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <nz-date-input\r\n          :year.sync=\"form.year\"\r\n          :month.sync=\"form.month\"\r\n          :day.sync=\"form.day\"\r\n          :errors=\"form.errors\"\r\n          :label=\"trans('labels.field_observations.date')\"\r\n          :placeholders=\"{\r\n              year: trans('labels.field_observations.year'),\r\n              month: trans('labels.field_observations.month'),\r\n              day: trans('labels.field_observations.day')\r\n          }\"\r\n        />\r\n\r\n        <b-field :label=\"trans('labels.field_observations.photos')\">\r\n          <div class=\"columns\">\r\n            <div class=\"column is-one-third\">\r\n              <nz-photo-upload\r\n                :image-url=\"getObservationPhotoAttribute(0, 'url')\"\r\n                :image-path=\"getObservationPhotoAttribute(0, 'path')\"\r\n                :image-license=\"getObservationPhotoAttribute(0, 'license')\"\r\n                :licenses=\"licenses\"\r\n                :text=\"trans('labels.field_observations.upload')\"\r\n                @uploaded=\"onPhotoUploaded\"\r\n                @removed=\"onPhotoRemoved\"\r\n                @cropped=\"onPhotoCropped\"\r\n                @license-changed=\"onLicenseChanged(0, $event)\"\r\n                :errors=\"form.errors\"\r\n                ref=\"photoUpload-1\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"column is-one-third\">\r\n              <nz-photo-upload\r\n                :image-url=\"getObservationPhotoAttribute(1, 'url')\"\r\n                :image-path=\"getObservationPhotoAttribute(1, 'path')\"\r\n                :image-license=\"getObservationPhotoAttribute(1, 'license')\"\r\n                :licenses=\"licenses\"\r\n                :text=\"trans('labels.field_observations.upload')\"\r\n                @uploaded=\"onPhotoUploaded\"\r\n                @removed=\"onPhotoRemoved\"\r\n                @cropped=\"onPhotoCropped\"\r\n                @license-changed=\"onLicenseChanged(1, $event)\"\r\n                :errors=\"form.errors\"\r\n                ref=\"photoUpload-2\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"column is-one-third\">\r\n              <nz-photo-upload\r\n                :image-url=\"getObservationPhotoAttribute(2, 'url')\"\r\n                :image-path=\"getObservationPhotoAttribute(2, 'path')\"\r\n                :image-license=\"getObservationPhotoAttribute(2, 'license')\"\r\n                :licenses=\"licenses\"\r\n                :text=\"trans('labels.field_observations.upload')\"\r\n                @uploaded=\"onPhotoUploaded\"\r\n                @removed=\"onPhotoRemoved\"\r\n                @cropped=\"onPhotoCropped\"\r\n                @license-changed=\"onLicenseChanged(2, $event)\"\r\n                :errors=\"form.errors\"\r\n                ref=\"photoUpload-3\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </b-field>\r\n      </div>\r\n\r\n      <div class=\"column is-half-desktop\">\r\n        <nz-spatial-input\r\n          :latitude.sync=\"form.latitude\"\r\n          :longitude.sync=\"form.longitude\"\r\n          :location.sync=\"form.location\"\r\n          :accuracy.sync=\"form.accuracy\"\r\n          :elevation.sync=\"form.elevation\"\r\n          :errors=\"form.errors\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <button\r\n      type=\"button\"\r\n      class=\"button is-text\"\r\n      @click=\"showMoreDetails = !showMoreDetails\"\r\n    >\r\n      {{\r\n        showMoreDetails ? trans('labels.field_observations.less_details') : trans('labels.field_observations.more_details')\r\n      }}\r\n    </button>\r\n\r\n    <div class=\"mt-4\" v-show=\"showMoreDetails\">\r\n\r\n      <div class=\"columns\">\r\n\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.field_observations.stage')\"\r\n            label-for=\"stage\"\r\n            :type=\"form.errors.has('stage_id') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('stage_id') ? form.errors.first('stage_id') : null\"\r\n          >\r\n            <b-select id=\"stage\" v-model=\"form.stage_id\" :disabled=\"!stages.length\" @input=\"lastStageId = $event\"\r\n                      expanded>\r\n              <option :value=\"null\">{{ trans('labels.field_observations.choose_a_stage') }}</option>\r\n              <option v-for=\"stage in stages\" :value=\"stage.id\" :key=\"stage.id\"\r\n                      v-text=\"trans(`stages.${stage.name}`)\"></option>\r\n            </b-select>\r\n          </b-field>\r\n        </div>\r\n\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.field_observations.sex')\"\r\n            :type=\"form.errors.has('sex') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('sex') ? form.errors.first('sex') : null\"\r\n          >\r\n            <b-select v-model=\"form.sex\" expanded>\r\n              <option :value=\"null\">{{ trans('labels.field_observations.choose_a_value') }}</option>\r\n              <option v-for=\"(label,sex) in sexes\" :key=\"sex\" :value=\"sex\" v-text=\"label\"></option>\r\n            </b-select>\r\n          </b-field>\r\n        </div>\r\n      </div>\r\n\r\n      <b-field\r\n        :label=\"trans('labels.field_observations.types')\"\r\n        :error=\"form.errors.has('observation_types_ids')\"\r\n        :message=\"form.errors.has('observation_types_ids') ? form.errors.first('observation_types_ids') : null\"\r\n      >\r\n        <b-taginput\r\n          v-model=\"selectedObservationTypes\"\r\n          :data=\"availableObservationTypes\"\r\n          autocomplete\r\n          :allowNew=\"false\"\r\n          field=\"name\"\r\n          icon=\"tag\"\r\n          :placeholder=\"trans('labels.field_observations.types_placeholder')\"\r\n          @typing=\"onTypeTyping\"\r\n          @keyup.native.delete=\"onTypeBackspace\"\r\n          open-on-focus\r\n        >\r\n          <template v-slot:default=\"props\">\r\n            <span>{{ props.option.name }}</span>\r\n          </template>\r\n        </b-taginput>\r\n      </b-field>\r\n\r\n      <b-field\r\n        :label=\"trans('labels.observations.atlas_code')\"\r\n        label-for=\"atlas-code\"\r\n        :type=\"form.errors.has('atlas_code') ? 'is-danger' : null\"\r\n        :message=\"form.errors.has('atlas_code') ? form.errors.first('atlas_code') : null\"\r\n      >\r\n        <b-select id=\"atlas-code\" v-model=\"form.atlas_code\" expanded>\r\n          <option :value=\"null\">{{ trans('labels.field_observations.choose_a_value') }}</option>\r\n          <option v-for=\"atlasCode in atlasCodes\" :value=\"atlasCode.code\" v-text=\"atlasCode.name\"\r\n                  :key=\"atlasCode.code\"></option>\r\n        </b-select>\r\n      </b-field>\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.observations.data_provider')\"\r\n            label-for=\"data_provider\"\r\n            :error=\"form.errors.has('data_provider')\"\r\n            :message=\"form.errors.has('data_provider') ? form.errors.first('data_provider') : null\"\r\n          >\r\n            <b-input id=\"data_provider\" name=\"data_provider\" v-model=\"form.data_provider\"/>\r\n          </b-field>\r\n        </div>\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.observations.data_limit')\"\r\n            label-for=\"data_limit\"\r\n            :error=\"form.errors.has('data_limit')\"\r\n            :message=\"form.errors.has('data_limit') ? form.errors.first('data_limit') : null\"\r\n          >\r\n            <b-input id=\"data_limit\" name=\"data_limit\" v-model=\"form.data_limit\"/>\r\n          </b-field>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <b-field\r\n        :label=\"trans('labels.field_observations.note')\"\r\n        label-for=\"note\"\r\n        :error=\"form.errors.has('note')\"\r\n        :message=\"form.errors.has('note') ? form.errors.first('note') : null\"\r\n      >\r\n        <b-input id=\"note\" type=\"textarea\" v-model=\"form.note\"/>\r\n      </b-field>\r\n\r\n\r\n      <b-field\r\n        :label=\"trans('labels.field_observations.habitat')\"\r\n        label-for=\"habitat\"\r\n        :error=\"form.errors.has('habitat')\"\r\n        :message=\"form.errors.has('habitat') ? form.errors.first('habitat') : null\"\r\n      >\r\n        <b-input id=\"habitat\" name=\"habitat\" v-model=\"form.habitat\"/>\r\n      </b-field>\r\n\r\n      <b-field\r\n        :label=\"trans('labels.field_observations.description')\"\r\n        label-for=\"description\"\r\n        :error=\"form.errors.has('description')\"\r\n        :message=\"form.errors.has('description') ? form.errors.first('description') : null\"\r\n      >\r\n        <b-input id=\"description\" type=\"textarea\" v-model=\"form.description\"/>\r\n      </b-field>\r\n\r\n      <b-field\r\n        :label=\"trans('labels.field_observations.comment')\"\r\n        label-for=\"comment\"\r\n        :error=\"form.errors.has('comment')\"\r\n        :message=\"form.errors.has('comment') ? form.errors.first('comment') : null\"\r\n      >\r\n        <b-input id=\"comment\" type=\"textarea\" v-model=\"form.comment\"/>\r\n      </b-field>\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.literature_observations.project')\"\r\n            :type=\"form.errors.has('project') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('project') ? form.errors.first('project') : null\"\r\n          >\r\n            <label for=\"project\" class=\"label\" slot=\"label\">\r\n              <span class=\"is-dashed\" v-tooltip=\"{content: trans('labels.literature_observations.project_tooltip')}\">\r\n                {{ trans('labels.literature_observations.project') }}\r\n              </span>\r\n            </label>\r\n\r\n            <b-input id=\"project\" name=\"project\" v-model=\"form.project\"/>\r\n          </b-field>\r\n        </div>\r\n\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.field_observations.dataset')\"\r\n            label-for=\"dataset\"\r\n            :type=\"form.errors.has('dataset') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('dataset') ? form.errors.first('dataset') : null\"\r\n          >\r\n            <b-input id=\"dataset\" name=\"dataset\" v-model=\"form.dataset\"/>\r\n          </b-field>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"columns\">\r\n\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.field_observations.number')\"\r\n            label-for=\"number\"\r\n            :type=\"form.errors.has('number') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('number') ? form.errors.first('number') : null\"\r\n          >\r\n            <b-input id=\"number\" type=\"number\" v-model=\"form.number\"/>\r\n          </b-field>\r\n        </div>\r\n\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.field_observations.number_of')\"\r\n            label-for=\"number_of\"\r\n            :type=\"form.errors.has('number_of') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('number_of') ? form.errors.first('number_of') : null\"\r\n          >\r\n            <b-select v-model=\"form.number_of\" expanded>\r\n              <option :value=\"null\">{{ trans('labels.field_observations.choose_a_value') }}</option>\r\n              <option value=\"individual\">{{ trans('labels.number_of.individual') }}</option>\r\n              <option value=\"couple\">{{ trans('labels.number_of.couple') }}</option>\r\n              <option value=\"singing_male\">{{ trans('labels.number_of.singing_male') }}</option>\r\n              <option value=\"active_nest\">{{ trans('labels.number_of.active_nest') }}</option>\r\n              <option value=\"family_with_cubs\">{{ trans('labels.number_of.family_with_cubs') }}</option>\r\n            </b-select>\r\n          </b-field>\r\n        </div>\r\n      </div>\r\n\r\n      <b-checkbox v-model=\"form.found_dead\">{{ trans('labels.observations.found_dead') }}</b-checkbox>\r\n\r\n      <b-field\r\n        :label=\"trans('labels.observations.found_dead_note')\"\r\n        label-for=\"found_dead_note\"\r\n        v-if=\"form.found_dead\"\r\n        :error=\"form.errors.has('found_dead_note')\"\r\n        :message=\"form.errors.has('found_dead_note') ? form.errors.first('found_dead_note') : null\"\r\n      >\r\n        <b-input id=\"found_dead_note\" type=\"textarea\" v-model=\"form.found_dead_note\"/>\r\n      </b-field>\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.poaching_observations.dead_from_total')\"\r\n            label-for=\"dead_from_total\"\r\n            :type=\"form.errors.has('dead_from_total') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('dead_from_total') ? form.errors.first('dead_from_total') : null\"\r\n          >\r\n            <b-input id=\"dead_from_total\" name=\"dead_from_total\" type=\"number\" v-model=\"form.dead_from_total\"/>\r\n          </b-field>\r\n        </div>\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.poaching_observations.alive_from_total')\"\r\n            label-for=\"alive_from_total\"\r\n            :type=\"form.errors.has('alive_from_total') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('alive_from_total') ? form.errors.first('alive_from_total') : null\"\r\n          >\r\n            <b-input id=\"alive_from_total\" name=\"alive_from_total\" type=\"number\" v-model=\"form.alive_from_total\"/>\r\n          </b-field>\r\n        </div>\r\n        <div class=\"column\">\r\n          <b-field :label=\"trans('labels.poaching_observations.exact_number')\">\r\n            <b-switch v-model=\"form.exact_number\">\r\n              {{ form.exact_number ? trans(\"Yes\") : trans(\"No\") }}\r\n            </b-switch>\r\n          </b-field>\r\n        </div>\r\n        <div class=\"column\">\r\n          <b-field :label=\"trans('labels.poaching_observations.indigenous')\">\r\n            <b-switch v-model=\"form.indigenous\">\r\n              {{ form.indigenous ? trans(\"Yes\") : trans(\"No\") }}\r\n            </b-switch>\r\n          </b-field>\r\n        </div>\r\n      </div>\r\n\r\n      <b-field :label=\"trans('labels.poaching_observations.offences')\">\r\n        <div class=\"block\">\r\n          <b-checkbox\r\n            v-for=\"offence in offences\"\r\n            :key=\"offence.id\"\r\n            v-model=\"form.offences_ids\"\r\n            :native-value=\"offence.id\"\r\n          >\r\n            {{ trans('labels.offence_cases.' + offence.name) }}\r\n          </b-checkbox>\r\n        </div>\r\n      </b-field>\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.poaching_observations.place')\"\r\n            label-for=\"place\"\r\n            :type=\"form.errors.has('place') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('place') ? form.errors.first('place') : null\"\r\n          >\r\n            <b-input id=\"place\" name=\"place\" v-model=\"form.place\"/>\r\n          </b-field>\r\n        </div>\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.poaching_observations.municipality')\"\r\n            label-for=\"municipality\"\r\n            :type=\"form.errors.has('municipality') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('municipality') ? form.errors.first('municipality') : null\"\r\n          >\r\n            <b-input id=\"municipality\" name=\"municipality\" v-model=\"form.municipality\"/>\r\n          </b-field>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.poaching_observations.data_id')\"\r\n            label-for=\"data_id\"\r\n            :type=\"form.errors.has('data_id') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('data_id') ? form.errors.first('data_id') : null\"\r\n          >\r\n            <b-input id=\"data_id\" name=\"data_id\" v-model=\"form.data_id\"/>\r\n          </b-field>\r\n        </div>\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.poaching_observations.folder_id')\"\r\n            label-for=\"municipality\"\r\n            :type=\"form.errors.has('folder_id') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('folder_id') ? form.errors.first('folder_id') : null\"\r\n          >\r\n            <b-input id=\"folder_id\" name=\"folder_id\" v-model=\"form.folder_id\"/>\r\n          </b-field>\r\n        </div>\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.poaching_observations.file')\"\r\n            label-for=\"file\"\r\n            :type=\"form.errors.has('file') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('file') ? form.errors.first('file') : null\"\r\n          >\r\n            <b-input id=\"file\" name=\"file\" v-model=\"form.file\"/>\r\n          </b-field>\r\n        </div>\r\n      </div>\r\n\r\n      <b-field :label=\"trans('labels.poaching_observations.in_report')\">\r\n        <b-switch v-model=\"form.in_report\">\r\n          {{ form.in_report ? trans(\"Yes\") : trans(\"No\") }}\r\n        </b-switch>\r\n      </b-field>\r\n\r\n      <b-field\r\n        :label=\"trans('labels.poaching_observations.offence_details')\"\r\n        label-for=\"offence_details\"\r\n        :error=\"form.errors.has('offence_details')\"\r\n        :message=\"form.errors.has('offence_details') ? form.errors.first('offence_details') : null\"\r\n      >\r\n        <b-input id=\"offence_details\" type=\"textarea\" v-model=\"form.offence_details\"/>\r\n      </b-field>\r\n\r\n      <b-checkbox v-model=\"form.case_reported\">{{ trans('labels.poaching_observations.case_reported') }}</b-checkbox>\r\n\r\n      <div class=\"columns\" v-if=\"form.case_reported\">\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.poaching_observations.case_reported_by')\"\r\n            label-for=\"case_reported_by\"\r\n            :type=\"form.errors.has('case_reported_by') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('case_reported_by') ? form.errors.first('case_reported_by') : null\"\r\n          >\r\n            <b-input id=\"case_reported_by\" name=\"case_reported_by\" v-model=\"form.case_reported_by\"/>\r\n          </b-field>\r\n        </div>\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.poaching_observations.verdict')\"\r\n            label-for=\"verdict\"\r\n            :type=\"form.errors.has('verdict') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('verdict') ? form.errors.first('verdict') : null\"\r\n          >\r\n            <b-select v-model=\"form.verdict\" expanded>\r\n              <option :value=\"null\">{{ trans('labels.field_observations.choose_a_value') }}</option>\r\n              <option value=\"yes\">{{ trans(\"Yes\") }}</option>\r\n              <option value=\"no\">{{ trans(\"No\") }}</option>\r\n              <option value=\"rejected\">{{ trans(\"labels.poaching_observations.rejected\") }}</option>\r\n            </b-select>\r\n          </b-field>\r\n        </div>\r\n        <div class=\"column\">\r\n          <b-field :label=\"trans('labels.poaching_observations.verdict_date')\">\r\n            <b-datepicker\r\n              v-model=\"form.verdict_date\"\r\n              :locale=\"locale\"\r\n              :placeholder=\"trans('labels.poaching_observations.select_date')\"\r\n              icon=\"calendar-today\"\r\n              trap-focus>\r\n            </b-datepicker>\r\n          </b-field>\r\n        </div>\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.poaching_observations.proceeding')\"\r\n            label-for=\"proceeding\"\r\n            :type=\"form.errors.has('proceeding') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('proceeding') ? form.errors.first('proceeding') : null\"\r\n          >\r\n            <b-select v-model=\"form.proceeding\" expanded>\r\n              <option :value=\"null\">{{ trans('labels.field_observations.choose_a_value') }}</option>\r\n              <option value=\"misdemeanor\">{{ trans(\"labels.proceedings.misdemeanor\") }}</option>\r\n              <option value=\"criminal\">{{ trans(\"labels.proceedings.criminal\") }}</option>\r\n            </b-select>\r\n          </b-field>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"columns\" v-if=\"form.case_reported\">\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.poaching_observations.sanction_rsd')\"\r\n            label-for=\"sanction_rsd\"\r\n            :type=\"form.errors.has('sanction_rsd') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('sanction_rsd') ? form.errors.first('sanction_rsd') : null\"\r\n          >\r\n            <b-input id=\"sanction_rsd\" name=\"sanction_rsd\" type=\"int\" v-model=\"form.sanction_rsd\"/>\r\n          </b-field>\r\n        </div>\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.poaching_observations.sanction_eur')\"\r\n            label-for=\"sanction_eur\"\r\n            :type=\"form.errors.has('sanction_eur') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('sanction_eur') ? form.errors.first('sanction_eur') : null\"\r\n          >\r\n            <b-input id=\"sanction_eur\" name=\"sanction_eur\" type=\"int\" v-model=\"form.sanction_eur\"/>\r\n          </b-field>\r\n        </div>\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.poaching_observations.community_sentence')\"\r\n            label-for=\"community_sentence\"\r\n            :type=\"form.errors.has('community_sentence') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('community_sentence') ? form.errors.first('community_sentence') : null\"\r\n          >\r\n            <b-input id=\"community_sentence\" name=\"community_sentence\" type=\"int\" v-model=\"form.community_sentence\"/>\r\n          </b-field>\r\n        </div>\r\n        <div class=\"column\">\r\n          <b-field :label=\"trans('labels.poaching_observations.opportunity')\">\r\n            <b-switch v-model=\"form.opportunity\">\r\n              {{ form.opportunity ? trans(\"Yes\") : trans(\"No\") }}\r\n            </b-switch>\r\n          </b-field>\r\n        </div>\r\n      </div>\r\n\r\n      <b-field\r\n        :label=\"trans('labels.poaching_observations.annotation')\"\r\n        label-for=\"annotation\"\r\n        v-if=\"form.case_reported\"\r\n        :error=\"form.errors.has('annotation')\"\r\n        :message=\"form.errors.has('annotation') ? form.errors.first('annotation') : null\"\r\n      >\r\n        <b-input id=\"annotation\" type=\"textarea\" v-model=\"form.annotation\"/>\r\n      </b-field>\r\n\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.poaching_observations.suspect_name')\"\r\n            label-for=\"suspect_name\"\r\n            :type=\"form.errors.has('suspect_name') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('suspect_name') ? form.errors.first('suspect_name') : null\"\r\n          >\r\n            <b-input id=\"suspect_name\" name=\"suspect_name\" v-model=\"form.suspect_name\"/>\r\n          </b-field>\r\n        </div>\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.poaching_observations.suspect_place')\"\r\n            label-for=\"suspect_place\"\r\n            :type=\"form.errors.has('suspect_place') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('suspect_place') ? form.errors.first('suspect_place') : null\"\r\n          >\r\n            <b-input id=\"suspect_place\" name=\"suspect_place\" v-model=\"form.suspect_place\"/>\r\n          </b-field>\r\n        </div>\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.poaching_observations.suspect_profile')\"\r\n            label-for=\"suspect_profile\"\r\n            :type=\"form.errors.has('suspect_profile') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('suspect_profile') ? form.errors.first('suspect_profile') : null\"\r\n          >\r\n            <b-input id=\"suspect_profile\" name=\"suspect_profile\" v-model=\"form.suspect_profile\"/>\r\n          </b-field>\r\n        </div>\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.poaching_observations.suspects_number')\"\r\n            label-for=\"suspects_number\"\r\n            :type=\"form.errors.has('suspects_number') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('suspects_number') ? form.errors.first('suspects_number') : null\"\r\n          >\r\n            <b-input id=\"suspects_number\" name=\"suspects_number\" type=\"number\" v-model=\"form.suspects_number\"/>\r\n          </b-field>\r\n        </div>\r\n      </div>\r\n\r\n      <b-field\r\n        :label=\"trans('labels.poaching_observations.cites')\"\r\n        label-for=\"cites\"\r\n        :type=\"form.errors.has('cites') ? 'is-danger' : null\"\r\n        :message=\"form.errors.has('cites') ? form.errors.first('cites') : null\"\r\n      >\r\n        <b-select v-model=\"form.cites\" expanded>\r\n          <option :value=\"null\">{{ trans('labels.field_observations.choose_a_value') }}</option>\r\n          <option value=\"1\">{{ trans(\"labels.cites.appendix_I\") }}</option>\r\n          <option value=\"2\">{{ trans(\"labels.cites.appendix_II\") }}</option>\r\n          <option value=\"3\">{{ trans(\"labels.cites.appendix_III\") }}</option>\r\n        </b-select>\r\n      </b-field>\r\n\r\n      <b-field\r\n        :label=\"trans('labels.poaching_observations.origin_of_individuals')\"\r\n        label-for=\"origin_of_individuals\"\r\n        :type=\"form.errors.has('origin_of_individuals') ? 'is-danger' : null\"\r\n        :message=\"form.errors.has('origin_of_individuals') ? form.errors.first('origin_of_individuals') : null\"\r\n      >\r\n        <b-input id=\"origin_of_individuals\" name=\"origin_of_individuals\" type=\"number\"\r\n                 v-model=\"form.origin_of_individuals\"/>\r\n      </b-field>\r\n\r\n      <hr>\r\n\r\n      <div><b>{{ trans('labels.poaching_observations.sources') }}</b></div>\r\n      <div class=\"columns\">\r\n        <div class=\"column\"><b>{{ trans('labels.poaching_observations.source') }}</b></div>\r\n        <div class=\"column\"><b>{{ trans('labels.poaching_observations.source_description') }}</b></div>\r\n        <div class=\"column\"><b>{{ trans('labels.poaching_observations.source_link') }}</b></div>\r\n        <div class=\"column\"></div>\r\n      </div>\r\n\r\n      <div class=\"columns\" v-for=\"(source, index) in sources\" :key=\"index\">\r\n        <div class=\"column\">{{ trans('labels.poaching_observations.' + source.name) }}</div>\r\n        <div class=\"column\">{{ source.description }}</div>\r\n        <div class=\"column\">{{ source.link }}</div>\r\n        <div class=\"column\">\r\n          <button type=\"button\" class=\"delete\" @click=\"removeSource(index)\"\r\n                  v-tooltip=\"{content: trans('labels.poaching_observations.remove_source_tooltip')}\">\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"columns\" v-for=\"(source, index) in poachingSources\" :key=\"index\">\r\n        <div class=\"column\">{{ trans('labels.poaching_observations.' + source.name) }}</div>\r\n        <div class=\"column\">{{ source.description }}</div>\r\n        <div class=\"column\">{{ source.link }}</div>\r\n        <div class=\"column\">\r\n          <button type=\"button\" class=\"delete\" @click=\"removeSource(index)\"\r\n                  v-tooltip=\"{content: trans('labels.poaching_observations.remove_source_tooltip')}\">\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column\">\r\n          <b-select v-model=\"form.source\" expanded>\r\n            <option :value=\"null\">{{ trans('labels.field_observations.choose_a_value') }}</option>\r\n            <option value=\"social_media\">{{ trans(\"labels.poaching_observations.social_media\") }}</option>\r\n            <option value=\"media\">{{ trans(\"labels.poaching_observations.media\") }}</option>\r\n            <option value=\"ads\">{{ trans(\"labels.poaching_observations.ads\") }}</option>\r\n            <option value=\"institutions\">{{ trans(\"labels.poaching_observations.institutions\") }}</option>\r\n            <option value=\"associates\">{{ trans(\"labels.poaching_observations.associates\") }}</option>\r\n          </b-select>\r\n        </div>\r\n        <div class=\"column\">\r\n          <b-input id=\"sourceDescription\" v-model=\"sourceDescription\" ref=\"sourceDescription\"\r\n                   v-if=\"form.source\"\r\n                   v-on:keydown.native.enter.prevent=\"$refs.sourceLink.focus\"/>\r\n        </div>\r\n        <div class=\"column\">\r\n          <b-input id=\"sourceLink\" v-model=\"sourceLink\" ref=\"sourceLink\"\r\n                   v-if=\"form.source\"\r\n                   v-on:keydown.native.enter.prevent=\"addSource\"/>\r\n        </div>\r\n        <div class=\"column\">\r\n          <button v-if=\"form.source\" type=\"button\" class=\"button is-primary\" @click=\"addSource\">\r\n            {{ trans(\"labels.poaching_observations.add_source\") }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <hr>\r\n\r\n      <div><b>{{ trans('labels.observations.observers') }}</b></div>\r\n      <div class=\"columns\">\r\n        <div class=\"column is-2\"><b>{{ trans('labels.observations.firstName') }}</b></div>\r\n        <div class=\"column is-2\"><b>{{ trans('labels.observations.lastName') }}</b></div>\r\n        <div class=\"column is-1\"></div>\r\n      </div>\r\n      <div class=\"columns\" v-for=\"(observer, index) in observers\" :key=\"index\">\r\n        <div class=\"column is-2\">{{ observer.firstName }}</div>\r\n        <div class=\"column is-2\">{{ observer.lastName }}</div>\r\n        <div class=\"column is-1\">\r\n          <button type=\"button\" class=\"delete\" @click=\"removeObserver(index)\"\r\n                  v-tooltip=\"{content: trans('labels.observations.remove_observer_tooltip')}\">\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"columns\" v-for=\"(observer, index) in fieldObservers\" :key=\"index\">\r\n        <div class=\"column is-2\">{{ observer.firstName }}</div>\r\n        <div class=\"column is-2\">{{ observer.lastName }}</div>\r\n        <div class=\"column is-1\">\r\n          <button type=\"button\" class=\"delete\" @click=\"removeObserver(index)\"\r\n                  v-tooltip=\"{content: trans('labels.observations.remove_observer_tooltip')}\">\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"columns\">\r\n        <div class=\"column is-2\">\r\n          <b-field\r\n            :type=\"observerErrors.observerFirstName ? 'is-danger' : null\"\r\n            :message=\"observerErrors.observerFirstName ? observerErrors.observerFirstName : null\"\r\n          >\r\n            <b-input id=\"observerFirstName\" maxlength=\"50\" v-model=\"observerFirstName\"\r\n                     :placeholder=\"trans('labels.observations.insert_first_name')\"\r\n                     v-on:keydown.native.enter.prevent=\"$refs.observerLastName.focus\"/>\r\n          </b-field>\r\n        </div>\r\n        <div class=\"column is-2\">\r\n          <b-field\r\n            :type=\"observerErrors.observerLastName ? 'is-danger' : null\"\r\n            :message=\"observerErrors.observerLastName ? observerErrors.observerLastName : null\"\r\n          >\r\n            <b-input id=\"observerLastName\" maxlength=\"50\" v-model=\"observerLastName\" ref=\"observerLastName\"\r\n                     :placeholder=\"trans('labels.observations.insert_last_name')\"\r\n                     v-on:keydown.native.enter.prevent=\"addObserver\"/>\r\n          </b-field>\r\n        </div>\r\n        <div class=\"column is-1\">\r\n          <button type=\"button\" class=\"button is-primary\" @click=\"addObserver\">\r\n            {{ trans('labels.observations.add_observer') }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <hr>\r\n      <template v-if=\"showObserverIdentifier\">\r\n        <nz-user-autocomplete\r\n          v-model=\"form.identifier\"\r\n          @select=\"onIdentifierSelect\"\r\n          :error=\"form.errors.has('identifier')\"\r\n          :message=\"form.errors.has('identifier') ? form.errors.first('identifier') : null\"\r\n          :user=\"form.identified_by\"\r\n          :label=\"trans('labels.field_observations.identifier')\"\r\n          :disabled=\"!isIdentified\"\r\n        />\r\n      </template>\r\n\r\n      <div class=\"columns\">\r\n        <div class=\"column\">\r\n          <b-field\r\n            :label=\"trans('labels.field_observations.data_license')\"\r\n            label-for=\"data_license\"\r\n            :type=\"form.errors.has('data_license') ? 'is-danger' : null\"\r\n            :message=\"form.errors.has('data_license') ? form.errors.first('data_license') : null\"\r\n          >\r\n            <b-select id=\"data_license\" v-model=\"form.data_license\" expanded>\r\n              <option :value=\"null\">{{ trans('labels.field_observations.default') }}</option>\r\n              <option v-for=\"(label, value) in licenses\" :value=\"value\" v-text=\"label\" v-bind:key=\"value\"></option>\r\n            </b-select>\r\n          </b-field>\r\n        </div>\r\n      </div>\r\n      <hr>\r\n    </div>\r\n\r\n    <button\r\n      type=\"submit\"\r\n      class=\"button is-primary\"\r\n      :class=\"{\r\n          'is-loading': submittingWithRedirect\r\n      }\"\r\n      @click.prevent=\"submitWithRedirect\"\r\n      v-tooltip=\"{content: trans('labels.field_observations.save_tooltip')}\"\r\n    >\r\n      {{ trans('buttons.save') }}\r\n    </button>\r\n\r\n    <button\r\n      type=\"submit\"\r\n      class=\"button is-primary\"\r\n      :class=\"{\r\n          'is-outlined': !submittingWithoutRedirect,\r\n          'is-loading': submittingWithoutRedirect\r\n      }\"\r\n      @click.prevent=\"submitWithoutRedirect\"\r\n      v-if=\"submitMore\"\r\n      v-tooltip=\"{content: trans('labels.field_observations.save_more_tooltip')}\"\r\n    >\r\n      {{ trans('buttons.save_more') }}\r\n    </button>\r\n\r\n    <a :href=\"cancelUrl\" class=\"button is-text\" @click=\"onCancel\">{{ trans('buttons.cancel') }}</a>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport Form from 'form-backend-validation'\r\nimport dayjs from '@/dayjs'\r\nimport _get from 'lodash/get'\r\nimport _find from 'lodash/find'\r\nimport _includes from 'lodash/includes'\r\nimport _findIndex from 'lodash/findIndex'\r\nimport _remove from 'lodash/remove'\r\nimport _cloneDeep from 'lodash/cloneDeep'\r\nimport FormMixin from '@/mixins/FormMixin'\r\nimport UserMixin from '@/mixins/UserMixin'\r\nimport NzDateInput from '@/components/inputs/DateInput'\r\nimport NzPhotoUpload from '@/components/inputs/PhotoUpload'\r\nimport NzSpatialInput from '@/components/inputs/SpatialInput'\r\nimport NzTaxonAutocomplete from '@/components/inputs/TaxonAutocomplete'\r\nimport NzUserAutocomplete from '@/components/inputs/UserAutocomplete'\r\n\r\nexport default {\r\n  name: 'nzPoachingObservationForm',\r\n\r\n  mixins: [FormMixin, UserMixin],\r\n\r\n  components: {\r\n    NzDateInput,\r\n    NzPhotoUpload,\r\n    NzSpatialInput,\r\n    NzTaxonAutocomplete,\r\n    NzUserAutocomplete\r\n  },\r\n\r\n  props: {\r\n    observation: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          taxon: null,\r\n          taxon_id: null,\r\n          taxon_suggestion: '',\r\n          year: dayjs().year(),\r\n          month: dayjs().month() + 1,\r\n          day: dayjs().date(),\r\n          latitude: null,\r\n          longitude: null,\r\n          accuracy: null,\r\n          elevation: null,\r\n          location: '',\r\n          photos: [],\r\n          observer: '',\r\n          identifier: '',\r\n          note: '',\r\n          sex: null,\r\n          number: null,\r\n          number_of: 'individual',\r\n          project: null,\r\n          habitat: null,\r\n          found_on: null,\r\n          stage_id: null,\r\n          found_dead: false,\r\n          found_dead_note: '',\r\n          data_license: null,\r\n          image_license: null,\r\n          types: [],\r\n          observers: [],\r\n          field_observers: [],\r\n          observed_by_id: null,\r\n          observed_by: null,\r\n          identified_by_id: null,\r\n          identified_by: null,\r\n          dataset: null,\r\n          atlas_code: null,\r\n          description: '',\r\n          comment: '',\r\n          data_provider: null,\r\n          data_limit: '',\r\n          indigenous: false,\r\n          exact_number: false,\r\n          place: null,\r\n          municipality: null,\r\n          data_id: null,\r\n          folder_id: null,\r\n          file: null,\r\n          offence_details: '',\r\n          in_report: false,\r\n          case_reported: false,\r\n          case_reported_by: null,\r\n          opportunity: false,\r\n          annotation: '',\r\n          suspect_name: null,\r\n          suspect_place: null,\r\n          suspect_profile: null,\r\n          suspect_note: '',\r\n          associates: null,\r\n          origin_of_individuals: null,\r\n          cites: null,\r\n          proceeding: null,\r\n          verdict: null,\r\n          verdict_date: null,\r\n          source: null,\r\n          dead_from_total: null,\r\n          alive_from_total: null,\r\n          suspects_number: null,\r\n          sanction_eur: null,\r\n          sanction_rsd: null,\r\n          community_sentence: null,\r\n\r\n          sources: [],\r\n          offences: []\r\n\r\n        }\r\n      }\r\n    },\r\n\r\n    licenses: {\r\n      type: Object,\r\n      default: () => ({})\r\n    },\r\n\r\n    sexes: {\r\n      type: Object,\r\n      default: () => ({})\r\n    },\r\n\r\n    observationTypes: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n\r\n    stages: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n\r\n    showObserverIdentifier: Boolean,\r\n\r\n    fieldObservers: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n\r\n    poachingSources: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n\r\n    atlasCodes: Array,\r\n\r\n    offences: Array,\r\n\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      keepAfterSubmit: this.getAttributesToKeep(),\r\n      showMoreDetails: true,\r\n      locale: window.App.locale,\r\n      observationTypeSearch: '',\r\n      shouldClearType: false,\r\n      exifExtracted: false,\r\n      lastStageId: this.observation.stage_id,\r\n      observers: this.observation.observers,\r\n      observerFirstName: '',\r\n      observerLastName: '',\r\n      observerErrors: {\r\n        type: Array,\r\n        default: () => []\r\n      },\r\n      sources: this.observation.sources,\r\n      sourceDescription: null,\r\n      sourceLink: null,\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    selectedObservationTypes: {\r\n      get() {\r\n        return this.observationTypes.filter(type =>\r\n          _includes(this.form.observation_types_ids, type.id)\r\n        )\r\n      },\r\n\r\n      set(value) {\r\n        this.form.observation_types_ids = value.map(type => type.id)\r\n      }\r\n    },\r\n\r\n    availableObservationTypes() {\r\n      return this.observationTypes.filter(type => {\r\n        return !_includes(this.form.observation_types_ids, type.id) &&\r\n          type.name.toLowerCase().includes(this.observationTypeSearch.toLowerCase())\r\n      })\r\n    },\r\n\r\n    isIdentified() {\r\n      return !!(this.form.taxon_id || this.form.taxon_suggestion)\r\n    },\r\n\r\n    /**\r\n     * Check if identification is changed compared to the original observation.\r\n     * @return {Boolean}\r\n     */\r\n    identificationChanged() {\r\n      return this.form.taxon_id !== this.observation.taxon_id ||\r\n        this.form.taxon_suggestion !== this.observation.taxon_suggestion\r\n    },\r\n\r\n  },\r\n\r\n  created() {\r\n    this.setDefaultObservationType()\r\n  },\r\n\r\n  methods: {\r\n    /**\r\n     * Create new form instance.\r\n     *\r\n     * @return {Form}\r\n     */\r\n    newForm() {\r\n      const observation = this.observation\r\n\r\n      // If crop is not set on existing photos, we can't crop them.\r\n      observation.photos.forEach(photo => {\r\n        photo.crop = null\r\n      })\r\n\r\n      return new Form({\r\n        ...observation,\r\n        observation_types_ids: observation.types.map(type => type.id),\r\n        offences_ids: this.observation.offences.map(offence => offence.id),\r\n        observers: this.observation.observers,\r\n        reason: null,\r\n        field_observers: this.fieldObservers,\r\n        sources: this.poachingSources,\r\n        verdict_date: this.observation.verdict ? new Date(this.observation.verdict_date) : null,\r\n      }, {\r\n        resetOnSuccess: false\r\n      })\r\n    },\r\n\r\n    addObserver() {\r\n      if (this.observerFirstName && this.observerLastName) {\r\n        this.fieldObservers.push({\r\n          'firstName': this.observerFirstName,\r\n          'lastName': this.observerLastName,\r\n        })\r\n        this.observerFirstName = null;\r\n        this.observerLastName = null;\r\n        this.observerErrors = [];\r\n      } else {\r\n        if (!this.observerFirstName) {\r\n          this.observerErrors.observerFirstName = \"This field is required\";\r\n          this.$forceUpdate();\r\n        }\r\n        if (!this.observerLastName) {\r\n          this.observerErrors.observerLastName = \"This field is required\";\r\n          this.$forceUpdate();\r\n        }\r\n      }\r\n    },\r\n\r\n    removeObserver(index) {\r\n      axios.delete(route('api.observers.destroy', this.observers[index]));\r\n      this.$delete(this.observers, index);\r\n    },\r\n\r\n    /**\r\n     * Performa after submit without redirect is successful.\r\n     */\r\n    hookAfterSubmitWithoutRedirect() {\r\n      this.setDefaultObservationType()\r\n      this.clearPhotos()\r\n      // Focus on taxon autocomplete input.\r\n      this.$refs.taxonAutocomplete.focusOnInput()\r\n    },\r\n\r\n    /**\r\n     * Clear all photos.\r\n     */\r\n    clearPhotos() {\r\n      [1, 2, 3].forEach(number => {\r\n        this.$refs[`photoUpload-${number}`].clearPhoto()\r\n      })\r\n    },\r\n\r\n    /**\r\n     * Handle taxon veing selected.\r\n     *\r\n     * @param {Object} value\r\n     */\r\n    onTaxonSelect(taxon) {\r\n      this.form.taxon = taxon || null\r\n      this.form.taxon_id = taxon ? taxon.id : null\r\n      this.form.taxon_suggestion = taxon ? taxon.name : null\r\n\r\n      const invalidStage = this.lastStageId && !_find(this.stages, stage => stage.id === this.lastStageId)\r\n\r\n      this.form.stage_id = invalidStage ? null : this.lastStageId\r\n\r\n      this.updateIdentifier()\r\n    },\r\n\r\n    /**\r\n     * Add uploaded photo's filename to array.\r\n     *\r\n     * @param {String} file name\r\n     */\r\n    onPhotoUploaded(image) {\r\n      this.form.photos.push({\r\n        path: image.path,\r\n        crop: image.crop,\r\n        license: image.license\r\n      })\r\n\r\n      const availableType = _find(this.availableObservationTypes, {slug: 'photographed'})\r\n\r\n      if (availableType) {\r\n        this.pushSelectedObservationType(availableType)\r\n      }\r\n\r\n      this.promptToExtractExifData(image)\r\n    },\r\n\r\n    /**\r\n     * Remove photo from form.\r\n     *\r\n     * @param {Object} image\r\n     */\r\n    onPhotoRemoved(image) {\r\n      _remove(this.form.photos, {path: image.path})\r\n\r\n      const selectedTypeIndex = _findIndex(this.selectedObservationTypes, {slug: 'photographed'})\r\n\r\n      if (!this.form.photos.length && selectedTypeIndex >= 0) {\r\n        const selectedObservationTypes = this.selectedObservationTypes\r\n\r\n        selectedObservationTypes.splice(selectedTypeIndex, 1)\r\n\r\n        this.selectedObservationTypes = selectedObservationTypes\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Add/remove cropping information.\r\n     *\r\n     * @param {Object} image\r\n     */\r\n    onPhotoCropped(croppedImage) {\r\n      const photoIndex = _findIndex(this.form.photos, {path: croppedImage.path})\r\n\r\n      if (photoIndex >= 0) {\r\n        const photo = _cloneDeep(this.form.photos[photoIndex])\r\n\r\n        photo.crop = croppedImage.crop\r\n\r\n        this.form.photos.splice(photoIndex, 1, photo)\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Get observation photo attribute.\r\n     *\r\n     * @param  {Number} [photoIndex=0]\r\n     * @param  {String} [attribute='url']\r\n     * @return {String}\r\n     */\r\n    getObservationPhotoAttribute(photoIndex = 0, attribute = 'url') {\r\n      let value = _get(this.observation, `photos.${photoIndex}.${attribute}`, '')\r\n\r\n      if (attribute === 'url' && value) {\r\n        const updated = dayjs(_get(this.observation, `photos.${photoIndex}.updated_at`, null))\r\n\r\n        value += updated.isValid() ? `?v=${updated.format('X')}` : ''\r\n      }\r\n\r\n      return value\r\n    },\r\n\r\n    /**\r\n     * Attributes to keep after submit without redirect.\r\n     *\r\n     * @return {Array}\r\n     */\r\n    getAttributesToKeep() {\r\n      return [\r\n        'location', 'accuracy', 'elevation', 'latitude', 'longitude',\r\n        'year', 'month', 'day', 'project', 'observer', 'observed_by',\r\n        'observed_by_id', 'data_license', 'image_license',\r\n      ]\r\n    },\r\n\r\n    /**\r\n     * Set tag search.\r\n     * @param {String} value\r\n     */\r\n    onTypeTyping(value) {\r\n      this.observationTypeSearch = value\r\n    },\r\n\r\n    /**\r\n     * Handle removing tags with backspace.\r\n     */\r\n    onTypeBackspace() {\r\n      if (this.shouldClearType) {\r\n        this.form.observation_types_ids.splice(-1, 1)\r\n        this.shouldClearType = false\r\n      } else if (!this.observationTypeSearch) {\r\n        this.shouldClearType = true\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Add observation type to selections.\r\n     *\r\n     * @param  {Object} type\r\n     */\r\n    pushSelectedObservationType(type) {\r\n      const selectedObservationTypes = this.selectedObservationTypes\r\n\r\n      selectedObservationTypes.push(type)\r\n\r\n      this.selectedObservationTypes = selectedObservationTypes\r\n    },\r\n\r\n    /**\r\n     * Ask the user to use EXIF data to populate the fields.\r\n     *\r\n     * @param  {Object} image\r\n     */\r\n    promptToExtractExifData(image) {\r\n      if (this.exifExtracted || !image.exif) return\r\n\r\n      this.$buefy.dialog.confirm({\r\n        message: this.extractExifMessage(image).replace(/\\n/g, '<br>'),\r\n        cancelText: this.trans('No'),\r\n        confirmText: this.trans('Yes'),\r\n        onConfirm: () => {\r\n          this.fillFromExif(image)\r\n        },\r\n        onCancel: () => {\r\n          this.exifExtracted = true\r\n        }\r\n      })\r\n    },\r\n\r\n    /**\r\n     * Format message to use EXIF data from image.\r\n     */\r\n    extractExifMessage(image) {\r\n      const data = this.extractExifData(image)\r\n\r\n      return [\r\n        this.trans('Use data from photo to fill the form?') + \"\\n\",\r\n        ...Object.keys(data).map(key => `${this.trans('labels.field_observations.' + key)}: ${data[key]}`)\r\n      ].join(\"\\n\")\r\n    },\r\n\r\n    /**\r\n     * Extract EXIF data from image.\r\n     */\r\n    extractExifData(image) {\r\n      const data = {}\r\n\r\n      for (let exif in image.exif) {\r\n        let value = image.exif[exif]\r\n\r\n        if (value) {\r\n          data[exif] = value\r\n        }\r\n      }\r\n\r\n      return data\r\n    },\r\n\r\n    /**\r\n     * Fill the fields with EXIF data.\r\n     *\r\n     * @param  {Object} image\r\n     */\r\n    fillFromExif(image) {\r\n      const data = this.extractExifData(image)\r\n\r\n      for (const exif in data) {\r\n        this.form[exif] = data[exif]\r\n      }\r\n\r\n      this.exifExtracted = true\r\n    },\r\n\r\n    /**\r\n     * Select observer.\r\n     */\r\n    onObserverSelect(user) {\r\n      this.form.observed_by = user || null\r\n      this.form.observed_by_id = user ? user.id : null\r\n      this.form.observer = user ? user.full_name : null\r\n    },\r\n\r\n    /**\r\n     * Select identifier.\r\n     */\r\n    onIdentifierSelect(user) {\r\n      this.form.identified_by = user || null\r\n      this.form.identified_by_id = user ? user.id : null\r\n      this.form.identifier = user ? user.full_name : null\r\n    },\r\n\r\n    /**\r\n     * Set default observation type.\r\n     */\r\n    setDefaultObservationType() {\r\n      if (!this.selectedObservationTypes.length) {\r\n        this.pushSelectedObservationType(\r\n          _find(this.availableObservationTypes, {slug: 'observed'})\r\n        )\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Update identifier based on identification change.\r\n     */\r\n    updateIdentifier() {\r\n      let identifier = this.observation.identified_by\r\n\r\n      if (this.identificationChanged) {\r\n        identifier = this.isIdentified ? window.App.User : null\r\n      }\r\n\r\n      this.onIdentifierSelect(identifier)\r\n    },\r\n\r\n    /**\r\n     * Change photo license.\r\n     *\r\n     * @param {Number} photoIndex\r\n     * @param {Number} license\r\n     */\r\n    onLicenseChanged(photoIndex, license) {\r\n      const photo = _cloneDeep(this.form.photos[photoIndex])\r\n\r\n      photo.license = license\r\n\r\n      this.form.photos[photoIndex] = photo\r\n    },\r\n\r\n    /**\r\n     * Add source for poaching observation\r\n     *\r\n     */\r\n    addSource() {\r\n      if (!this.form.source) {\r\n        return;\r\n      }\r\n      this.poachingSources.push({\r\n        'name': this.form.source,\r\n        'description': this.sourceDescription,\r\n        'link': this.sourceLink\r\n      })\r\n      this.form.source = null;\r\n      this.sourceDescription = null;\r\n      this.sourceLink = null;\r\n    },\r\n\r\n    removeSource(index) {\r\n      axios.delete(route('api.sources.destroy', this.sources[index]));\r\n      this.$delete(this.sources, index);\r\n    },\r\n\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PoachingObservationForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PoachingObservationForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PoachingObservationForm.vue?vue&type=template&id=111f9ee1&\"\nimport script from \"./PoachingObservationForm.vue?vue&type=script&lang=js&\"\nexport * from \"./PoachingObservationForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}