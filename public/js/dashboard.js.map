{"version":3,"sources":["webpack:///./resources/js/components/Announcement.vue?86b1","webpack:///./resources/js/components/Announcement.vue?3f96","webpack:///resources/js/components/Announcement.vue","webpack:///./resources/js/components/Announcement.vue","webpack:///./resources/js/components/Sidebar.vue?390e","webpack:///resources/js/components/notifications/Notification.vue","webpack:///./resources/js/components/notifications/FieldObservationApproved.js","webpack:///./resources/js/components/notifications/FieldObservationEdited.js","webpack:///./resources/js/components/notifications/FieldObservationForApproval.js","webpack:///./resources/js/components/notifications/FieldObservationMovedToPending.js","webpack:///./resources/js/components/notifications/FieldObservationMarkedUnidentifiable.js","webpack:///./resources/js/components/notifications/Notification.vue?d34c","webpack:///./resources/js/components/Sidebar.vue?d2a3","webpack:///resources/js/components/Sidebar.vue","webpack:///./resources/js/components/notifications/Notification.vue","webpack:///./resources/js/components/notifications/Notification.vue?fc5f","webpack:///./resources/js/components/Sidebar.vue","webpack:///./resources/js/components/DashboardNavbar.js","webpack:///./resources/js/components/DeleteAccountButton.vue?5d34","webpack:///./resources/js/components/DeleteAccountModal.vue?4f22","webpack:///resources/js/components/DeleteAccountModal.vue","webpack:///./resources/js/components/DeleteAccountModal.vue","webpack:///./resources/js/components/DeleteAccountModal.vue?b323","webpack:///./resources/js/components/DeleteAccountButton.vue?099e","webpack:///resources/js/components/DeleteAccountButton.vue","webpack:///./resources/js/components/DeleteAccountButton.vue"],"names":["name","props","announcement","Object","data","newAnnouncement","this","computed","link","route","methods","sendRequestToMarkAsRead","axios","post","announcement_id","id","markAsRead","then","component","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","title","attrs","nativeOn","$event","_e","notification","field_observation_id","message","taxonName","taxon_name","curatorName","curator_name","trans","causerName","causer_name","contributorName","contributor_name","type","required","NOTIFICATIONS_MAP","isNotRead","readAt","createdAt","$emit","visitLinkAndMarkAsRead","visitLink","window","location","href","components","nzNotification","class","on","domProps","preventDefault","active","Boolean","hasUnreadNotifications","activeTab","notifications","currentPage","hasMoreToLoad","loading","created","document","addEventListener","keyPress","load","beforeDestroy","removeEventListener","hide","event","keyCode","get","page","loadMore","markNotificationAsRead","notifications_ids","notificationId","callback","markAllNotificationsAsRead","all","_l","key","NzSidebar","hasUnread","showSidebar","toggle","toggleSidebar","action","String","csrfToken","$parent","close","openModal","$buefy","modal","open","parent","DeleteAccountModal","hasModalCard"],"mappings":"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","file":"js/dashboard.js?id=38e8d996695891077c2a","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.newAnnouncement)?_c('article',{staticClass:\"message is-info shadow\"},[_c('div',{staticClass:\"message-body flex justify-between\"},[_c('div',{},[_vm._v(\"\\n      \"+_vm._s(_vm.newAnnouncement.title)+\"\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"message-actions\"},[_c('a',{attrs:{\"href\":_vm.link}},[_vm._v(\"Read more\")]),_vm._v(\" \"),_c('b-icon',{staticClass:\"is-clickable\",attrs:{\"icon\":\"check\",\"title\":\"Mark as read\"},nativeOn:{\"click\":function($event){return _vm.markAsRead($event)}}})],1)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Announcement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Announcement.vue?vue&type=script&lang=js&\"","<template>\r\n  <article class=\"message is-info shadow\" v-if=\"newAnnouncement\">\r\n    <div class=\"message-body flex justify-between\">\r\n      <div class=\"\">\r\n        {{ newAnnouncement.title }}\r\n      </div>\r\n\r\n      <div class=\"message-actions\">\r\n        <a :href=\"link\">Read more</a>\r\n\r\n        <b-icon icon=\"check\" @click.native=\"markAsRead\" title=\"Mark as read\" class=\"is-clickable\" />\r\n      </div>\r\n    </div>\r\n  </article>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'nzAnnouncement',\r\n\r\n  props: {\r\n    announcement: Object\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      newAnnouncement: this.announcement\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    link() {\r\n      return route('announcements.show', { announcement: this.newAnnouncement.id })\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    sendRequestToMarkAsRead() {\r\n      return axios.post('/api/read-announcements', {\r\n        announcement_id: this.newAnnouncement.id,\r\n      })\r\n    },\r\n\r\n    markAsRead() {\r\n      this.sendRequestToMarkAsRead().then(() => {\r\n        this.newAnnouncement = null\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./Announcement.vue?vue&type=template&id=2101ee9e&\"\nimport script from \"./Announcement.vue?vue&type=script&lang=js&\"\nexport * from \"./Announcement.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sidebar\",class:{'is-active': _vm.active}},[_c('div',{staticClass:\"sidebar-header\"},[_c('h3',{staticClass:\"title is-size-5\"},[_vm._v(_vm._s(_vm.trans('notifications.title')))])]),_vm._v(\" \"),_c('div',{staticClass:\"sidebar-body\"},[(_vm.hasUnreadNotifications)?[(_vm.notifications.length)?_c('transition-group',{attrs:{\"name\":\"notification-list\"}},_vm._l((_vm.notifications),function(notification){return _c('nz-notification',{key:(\"notification-\" + (notification.id)),staticClass:\"sidebar-block\",attrs:{\"notification\":notification},on:{\"mark-read\":_vm.markNotificationAsRead}})}),1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"sidebar-block justify-center py-8\"},[_c('button',{staticClass:\"button is-primary\",class:{'is-loading': _vm.loading},attrs:{\"type\":\"button\",\"disabled\":_vm.loading},on:{\"click\":_vm.loadMore}},[_vm._v(\"\\n          \"+_vm._s(_vm.trans('notifications.load_more'))+\"\\n        \")])])]:_c('div',{staticClass:\"sidebar-block justify-center py-8\"},[_vm._v(\"\\n      \"+_vm._s(_vm.trans('notifications.no_new_notifications'))+\"\\n    \")])],2),_vm._v(\" \"),_c('footer',{staticClass:\"sidebar-footer\"},[_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.hide}},[_vm._v(_vm._s(_vm.trans('buttons.close')))]),_vm._v(\" \"),(_vm.notifications.length)?_c('button',{staticClass:\"button is-text\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.markAllNotificationsAsRead}},[_vm._v(\"\\n      \"+_vm._s(_vm.trans('notifications.mark_all_as_read'))+\"\\n    \")]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-if=\"type\" :class=\"{'has-background-light': isNotRead}\">\r\n    <div class=\"flex-1\" :class=\"{'is-clickable': link}\" @click=\"visitLinkAndMarkAsRead\">\r\n      <div v-html=\"message\" />\r\n\r\n      <span class=\"has-text-grey is-size-7\">{{ createdAt }}</span>\r\n    </div>\r\n\r\n    <a\r\n      href=\"#\"\r\n      v-if=\"isNotRead\"\r\n      @click.prevent=\"markAsRead\"\r\n      :title=\"trans('notifications.mark_as_read')\"\r\n    >\r\n      <b-icon icon=\"remove\" size=\"is-small\" />\r\n    </a>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport dayjs from '@/dayjs'\r\nimport FieldObservationApproved from './FieldObservationApproved'\r\nimport FieldObservationEdited from './FieldObservationEdited'\r\nimport FieldObservationForApproval from './FieldObservationForApproval'\r\nimport FieldObservationMovedToPending from './FieldObservationMovedToPending'\r\nimport FieldObservationMarkedUnidentifiable from './FieldObservationMarkedUnidentifiable'\r\n\r\nconst NOTIFICATIONS_MAP = {\r\n  'App\\\\Notifications\\\\FieldObservationApproved': FieldObservationApproved,\r\n  'App\\\\Notifications\\\\FieldObservationEdited': FieldObservationEdited,\r\n  'App\\\\Notifications\\\\FieldObservationForApproval': FieldObservationForApproval,\r\n  'App\\\\Notifications\\\\FieldObservationMovedToPending': FieldObservationMovedToPending,\r\n  'App\\\\Notifications\\\\FieldObservationMarkedUnidentifiable': FieldObservationMarkedUnidentifiable\r\n}\r\n\r\nexport default {\r\n  name: 'nzNotification',\r\n\r\n  props: {\r\n    notification: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    type() {\r\n      return NOTIFICATIONS_MAP[this.notification.type]\r\n    },\r\n\r\n    isNotRead() {\r\n      return !this.notification.readAt;\r\n    },\r\n\r\n    data() {\r\n      return this.notification.data\r\n    },\r\n\r\n    createdAt() {\r\n      return dayjs(this.notification.created_at).format('D.M.YYYY HH:mm')\r\n    },\r\n\r\n    message() {\r\n      return this.type.message(this.notification)\r\n    },\r\n\r\n    link() {\r\n      return this.type.link(this.notification)\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    /**\r\n     * Mark notification as read.\r\n     */\r\n    markAsRead() {\r\n      if (this.isNotRead) {\r\n        this.$emit('mark-read', this.notification.id)\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Visit the notification link\r\n     * If the notification has not been read before, mark if as read.\r\n     */\r\n    visitLinkAndMarkAsRead() {\r\n      if (this.isNotRead) {\r\n        this.$emit('mark-read', this.notification.id, () => {\r\n          this.visitLink()\r\n        });\r\n      } else {\r\n        this.visitLink()\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Visit the notification link.\r\n     */\r\n    visitLink() {\r\n      if (this.link) {\r\n        window.location.href = this.link\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","export default {\r\n  link(notification) {\r\n    return route('contributor.field-observations.show', notification.data.field_observation_id)\r\n  },\r\n\r\n  message(notification) {\r\n    const taxonName = notification.data.taxon_name\r\n    const curatorName = notification.data.curator_name || trans('roles.curator')\r\n\r\n    return taxonName\r\n      ? trans('notifications.field_observations.approved_with_taxon', { curatorName, taxonName })\r\n      : trans('notifications.field_observations.approved', { curatorName })\r\n  }\r\n}\r\n","export default {\r\n  link(notification) {\r\n    return route('contributor.field-observations.show', notification.data.field_observation_id)\r\n  },\r\n\r\n  message(notification) {\r\n    const taxonName = notification.data.taxon_name\r\n    const causerName = notification.data.causer_name || trans('roles.curator')\r\n\r\n    return taxonName\r\n      ? trans('notifications.field_observations.edited_with_taxon', { causerName, taxonName })\r\n      : trans('notifications.field_observations.edited', { causerName })\r\n  }\r\n}\r\n","export default {\r\n  link(notification) {\r\n    return route('curator.pending-observations.show', notification.data.field_observation_id)\r\n  },\r\n\r\n  message(notification) {\r\n    return trans('notifications.field_observations.for_approval', {\r\n      contributorName: notification.data.contributor_name || trans('roles.contributor')\r\n    })\r\n  }\r\n}\r\n","export default {\r\n  link(notification) {\r\n    return route('contributor.field-observations.show', notification.data.field_observation_id)\r\n  },\r\n\r\n  message(notification) {\r\n    const taxonName = notification.data.taxon_name\r\n    const curatorName = notification.data.curator_name || trans('roles.curator')\r\n\r\n    return taxonName\r\n      ? trans('notifications.field_observations.moved_to_pending_with_taxon', { curatorName, taxonName })\r\n      : trans('notifications.field_observations.moved_to_pending', { curatorName })\r\n  }\r\n}\r\n","export default {\r\n  link(notification) {\r\n    return route('contributor.field-observations.show', notification.data.field_observation_id)\r\n  },\r\n\r\n  message(notification) {\r\n    const taxonName = notification.data.taxon_name\r\n    const curatorName = notification.data.curator_name || trans('roles.curator')\r\n\r\n    return taxonName\r\n      ? trans('notifications.field_observations.marked_as_unidentifiable_with_taxon', { curatorName, taxonName })\r\n      : trans('notifications.field_observations.marked_as_unidentifiable', { curatorName })\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notification.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Notification.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"","<template>\r\n  <div class=\"sidebar\" :class=\"{'is-active': active}\">\r\n    <div class=\"sidebar-header\">\r\n      <h3 class=\"title is-size-5\">{{ trans('notifications.title') }}</h3>\r\n    </div>\r\n\r\n    <div class=\"sidebar-body\">\r\n      <template v-if=\"hasUnreadNotifications\">\r\n        <transition-group name=\"notification-list\" v-if=\"notifications.length\">\r\n          <nz-notification\r\n            class=\"sidebar-block\"\r\n            v-for=\"notification in notifications\"\r\n            :notification=\"notification\"\r\n            @mark-read=\"markNotificationAsRead\"\r\n            :key=\"`notification-${notification.id}`\"\r\n          />\r\n        </transition-group>\r\n\r\n        <div class=\"sidebar-block justify-center py-8\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"button is-primary\"\r\n            :class=\"{'is-loading': loading}\"\r\n            :disabled=\"loading\"\r\n            @click=\"loadMore\"\r\n          >\r\n            {{ trans('notifications.load_more') }}\r\n          </button>\r\n        </div>\r\n      </template>\r\n\r\n      <div class=\"sidebar-block justify-center py-8\" v-else>\r\n        {{ trans('notifications.no_new_notifications') }}\r\n      </div>\r\n    </div>\r\n\r\n    <footer class=\"sidebar-footer\">\r\n      <button type=\"button\" class=\"button\" @click=\"hide\">{{ trans('buttons.close') }}</button>\r\n\r\n      <button type=\"button\" class=\"button is-text\" @click=\"markAllNotificationsAsRead\" v-if=\"notifications.length\">\r\n        {{ trans('notifications.mark_all_as_read') }}\r\n      </button>\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport nzNotification from './notifications/Notification'\r\n\r\nexport default {\r\n  name: 'nzSidebar',\r\n\r\n  components: {\r\n    nzNotification\r\n  },\r\n\r\n  props: {\r\n    active: Boolean,\r\n    hasUnreadNotifications: Boolean,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      activeTab: 'notifications',\r\n      notifications: [],\r\n      currentPage: 1,\r\n      hasMoreToLoad: true,\r\n      loading: false,\r\n    }\r\n  },\r\n\r\n  created () {\r\n    if (typeof window !== 'undefined') {\r\n      document.addEventListener('keyup', this.keyPress)\r\n    }\r\n\r\n    this.load()\r\n  },\r\n\r\n  beforeDestroy() {\r\n    if (typeof window !== 'undefined') {\r\n      document.removeEventListener('keyup', this.keyPress)\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    /**\r\n     * Emit the event to close.\r\n     */\r\n    hide() {\r\n      this.$emit('close')\r\n    },\r\n\r\n    /**\r\n     * Handle ESC key.\r\n     *\r\n     * @param  {Event}  event\r\n     */\r\n    keyPress(event) {\r\n      // Esc key\r\n      if (event.keyCode === 27) this.hide()\r\n    },\r\n\r\n    load() {\r\n      if (this.loading) return\r\n\r\n      this.loading = true\r\n      const page = this.currentPage\r\n\r\n      axios.get(route('api.my.unread-notifications.index', {\r\n        page,\r\n      })).then((response) => {\r\n        this.notifications = this.notifications.concat(response.data.data)\r\n\r\n        this.hasMoreToLoad = this.page < response.data.meta.last_page\r\n      }).finally(() => {\r\n        this.loading = false\r\n      })\r\n    },\r\n\r\n    loadMore() {\r\n      if (this.loading) return\r\n\r\n      this.currentPage++\r\n      this.load()\r\n    },\r\n\r\n    /**\r\n     * Mark single notification as read.\r\n     *\r\n     * @param  {String}  notificationId\r\n     * @param callback\r\n     */\r\n    markNotificationAsRead(notificationId, callback) {\r\n      axios.post(route('api.my.read-notifications-batch.store'), {\r\n        notifications_ids: [notificationId]\r\n      }).then((response) => {\r\n        this.notifications = this.notifications.filter(notification => {\r\n          return notification.id !== notificationId\r\n        })\r\n\r\n        this.$emit('update:has-unread-notifications', response.data.meta.has_unread)\r\n\r\n        callback && callback()\r\n      })\r\n    },\r\n\r\n    /**\r\n     * Mark all unread notifications as read.\r\n     */\r\n    markAllNotificationsAsRead() {\r\n      if (!this.hasUnreadNotifications) return\r\n\r\n      axios.post(route('api.my.read-notifications-batch.store'), {\r\n        all: true,\r\n      }).then(() => {\r\n        this.notifications = []\r\n\r\n        this.$emit('update:has-unread-notifications', false)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./Notification.vue?vue&type=template&id=6d2aa7ae&\"\nimport script from \"./Notification.vue?vue&type=script&lang=js&\"\nexport * from \"./Notification.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.type)?_c('div',{class:{'has-background-light': _vm.isNotRead}},[_c('div',{staticClass:\"flex-1\",class:{'is-clickable': _vm.link},on:{\"click\":_vm.visitLinkAndMarkAsRead}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.message)}}),_vm._v(\" \"),_c('span',{staticClass:\"has-text-grey is-size-7\"},[_vm._v(_vm._s(_vm.createdAt))])]),_vm._v(\" \"),(_vm.isNotRead)?_c('a',{attrs:{\"href\":\"#\",\"title\":_vm.trans('notifications.mark_as_read')},on:{\"click\":function($event){$event.preventDefault();return _vm.markAsRead($event)}}},[_c('b-icon',{attrs:{\"icon\":\"remove\",\"size\":\"is-small\"}})],1):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=0be0106a&\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import NzSidebar from '@/components/Sidebar'\r\n\r\nexport default {\r\n  name: 'nzDashboardNavbar',\r\n\r\n  components: {\r\n    NzSidebar\r\n  },\r\n\r\n  props: {\r\n    hasUnread: Boolean\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      active: false,\r\n      showSidebar: false,\r\n      hasUnreadNotifications: this.hasUnread\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    toggle() {\r\n      this.active = !this.active;\r\n    },\r\n\r\n    toggleSidebar() {\r\n        this.showSidebar = !this.showSidebar;\r\n    },\r\n\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"button is-danger\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.openModal}},[_vm._v(\"\\n  \"+_vm._s(_vm.trans('labels.preferences.account.delete_account'))+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteAccountModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteAccountModal.vue?vue&type=script&lang=js&\"","<template>\r\n  <form :action=\"action\" method=\"POST\" class=\"modal-card\">\r\n    <header class=\"modal-card-head\">\r\n      <h3 class=\"modal-card-title\">{{ trans('navigation.preferences.delete_account') }}</h3>\r\n    </header>\r\n\r\n    <input type=\"hidden\" name=\"_token\" :value=\"csrfToken\" />\r\n    <input type=\"hidden\" name=\"_method\" value=\"DELETE\" />\r\n\r\n\r\n    <section class=\"modal-card-body\">\r\n      <p>{{ trans('This action is irreversible, once an account is deleted it cannot be restored.') }}</p>\r\n\r\n      <p>{{ trans('Are you sure you want to delete your account?') }}</p>\r\n\r\n      <b-field class=\"mt-8\">\r\n        <b-checkbox name=\"delete_observations\">{{ trans('labels.preferences.account.delete_observations') }}</b-checkbox>\r\n      </b-field>\r\n    </section>\r\n\r\n    <footer class=\"modal-card-foot\">\r\n      <button class=\"button\" type=\"button\" @click=\"$parent.close()\">{{ trans('buttons.cancel') }}</button>\r\n\r\n      <button class=\"button is-danger\" type=\"submit\">{{ trans('labels.preferences.account.delete_account') }}</button>\r\n    </footer>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'nzDeleteAccounModal',\r\n\r\n  props: {\r\n    action: String,\r\n    csrfToken: String\r\n  }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./DeleteAccountModal.vue?vue&type=template&id=bcc0d354&\"\nimport script from \"./DeleteAccountModal.vue?vue&type=script&lang=js&\"\nexport * from \"./DeleteAccountModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"modal-card\",attrs:{\"action\":_vm.action,\"method\":\"POST\"}},[_c('header',{staticClass:\"modal-card-head\"},[_c('h3',{staticClass:\"modal-card-title\"},[_vm._v(_vm._s(_vm.trans('navigation.preferences.delete_account')))])]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"hidden\",\"name\":\"_token\"},domProps:{\"value\":_vm.csrfToken}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"hidden\",\"name\":\"_method\",\"value\":\"DELETE\"}}),_vm._v(\" \"),_c('section',{staticClass:\"modal-card-body\"},[_c('p',[_vm._v(_vm._s(_vm.trans('This action is irreversible, once an account is deleted it cannot be restored.')))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.trans('Are you sure you want to delete your account?')))]),_vm._v(\" \"),_c('b-field',{staticClass:\"mt-8\"},[_c('b-checkbox',{attrs:{\"name\":\"delete_observations\"}},[_vm._v(_vm._s(_vm.trans('labels.preferences.account.delete_observations')))])],1)],1),_vm._v(\" \"),_c('footer',{staticClass:\"modal-card-foot\"},[_c('button',{staticClass:\"button\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$parent.close()}}},[_vm._v(_vm._s(_vm.trans('buttons.cancel')))]),_vm._v(\" \"),_c('button',{staticClass:\"button is-danger\",attrs:{\"type\":\"submit\"}},[_vm._v(_vm._s(_vm.trans('labels.preferences.account.delete_account')))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteAccountButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteAccountButton.vue?vue&type=script&lang=js&\"","<template>\r\n  <button type=\"button\" @click=\"openModal\" class=\"button is-danger\">\r\n    {{ trans('labels.preferences.account.delete_account') }}\r\n  </button>\r\n</template>\r\n\r\n<script>\r\nimport DeleteAccountModal from './DeleteAccountModal'\r\n\r\nexport default {\r\n  name: 'nzDeleteAccountButton',\r\n\r\n  props: {\r\n    action: String,\r\n    csrfToken: String\r\n  },\r\n\r\n  methods: {\r\n    openModal() {\r\n      this.$buefy.modal.open({\r\n        parent: this,\r\n        component: DeleteAccountModal,\r\n        hasModalCard: true,\r\n        props: {\r\n          action: this.action,\r\n          csrfToken: this.csrfToken\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./DeleteAccountButton.vue?vue&type=template&id=44769786&\"\nimport script from \"./DeleteAccountButton.vue?vue&type=script&lang=js&\"\nexport * from \"./DeleteAccountButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}